
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../hilvl_Brightfield/">
      
      
        <link rel="next" href="../hilvl_coorGen/">
      
      
        
      
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>hilvl_Raman - ORM-IRIS Library Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#iris.gui.hilvl_Raman" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="ORM-IRIS Library Documentation" class="md-header__button md-logo" aria-label="ORM-IRIS Library Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ORM-IRIS Library Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              hilvl_Raman
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="ORM-IRIS Library Documentation" class="md-nav__button md-logo" aria-label="ORM-IRIS Library Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ORM-IRIS Library Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    iris
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    iris
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1_1" id="__nav_2_1_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    calibration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    calibration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../calibration/calibration_generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    calibration_generator
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../calibration/test_calibrator_wavelength/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    test_calibrator_wavelength
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    controllers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    controllers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/camera_controller_dummy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    camera_controller_dummy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/camera_controller_thorlabs_color/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    camera_controller_thorlabs_color
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/camera_controller_thorlabs_mono/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    camera_controller_thorlabs_mono
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/camera_controller_webcam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    camera_controller_webcam
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/class_camera_controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    class_camera_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/class_spectrometer_controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    class_spectrometer_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/class_xy_stage_controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    class_xy_stage_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/class_z_stage_controller/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    class_z_stage_controller
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/mcm301_wrapper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    mcm301_wrapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/oceandirect_wrapper/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    oceandirect_wrapper
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_Andor_dll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_Andor_dll
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_Andor_pylablib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_Andor_pylablib
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_PI_dll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_PI_dll
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_PI_pylablib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_PI_pylablib
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_PI_trial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_PI_trial
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_QEPro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_QEPro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_WasatchEnlighten/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_WasatchEnlighten
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/raman_spectrometer_controller_dummy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_spectrometer_controller_dummy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/xy_stage_controller_PI/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xy_stage_controller_PI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/xy_stage_controller_PI_dll/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xy_stage_controller_PI_dll
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/xy_stage_controller_dummy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xy_stage_controller_dummy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/xy_stage_controller_m30xy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xy_stage_controller_m30xy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/xy_stage_controller_zaber/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xy_stage_controller_zaber
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/z_stage_controller_dummy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    z_stage_controller_dummy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/z_stage_controller_mcm301/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    z_stage_controller_mcm301
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/z_stage_controller_pfm450/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    z_stage_controller_pfm450
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../controllers/z_stage_controller_z825b/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    z_stage_controller_z825b
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    data
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    data
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/calibration_objective/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    calibration_objective
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/measurement_Raman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    measurement_Raman
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/measurement_RamanMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    measurement_RamanMap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/measurement_coordinates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    measurement_coordinates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data/measurement_image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    measurement_image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4" checked>
        
          
          <label class="md-nav__link" for="__nav_2_1_4" id="__nav_2_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    gui
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_1_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    gui
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataHub_MeaImg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataHub_MeaImg
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dataHub_MeaRMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataHub_MeaRMap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hilvl_Brightfield/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_Brightfield
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    hilvl_Raman
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_Raman
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman" class="md-nav__link">
    <span class="md-ellipsis">
      
        hilvl_Raman
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Enum_ScanDir" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enum_ScanDir
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Enum_ScanMthd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enum_ScanMthd
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hilvl_MeasurementAcq_Worker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hilvl_MeasurementAcq_Worker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.emit_finish_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        emit_finish_signals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.run_scan_continuous" class="md-nav__link">
    <span class="md-ellipsis">
      
        run_scan_continuous
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hilvl_MeasurementStorer_Worker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hilvl_MeasurementStorer_Worker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.relay_finished_message" class="md-nav__link">
    <span class="md-ellipsis">
      
        relay_finished_message
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.set_save_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_save_params
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.start_autosaver" class="md-nav__link">
    <span class="md-ellipsis">
      
        start_autosaver
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.stop_autosaver" class="md-nav__link">
    <span class="md-ellipsis">
      
        stop_autosaver
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wdg_HighLvlController_Raman
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wdg_HighLvlController_Raman">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.abort_mapping_run" class="md-nav__link">
    <span class="md-ellipsis">
      
        abort_mapping_run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.disable_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        disable_widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.enable_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        enable_widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_error_during_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        handle_error_during_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_mapping_completion" class="md-nav__link">
    <span class="md-ellipsis">
      
        handle_mapping_completion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_message_update" class="md-nav__link">
    <span class="md-ellipsis">
      
        handle_message_update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.initialise" class="md-nav__link">
    <span class="md-ellipsis">
      
        initialise
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.initiate_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        initiate_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.reset_mapping_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        reset_mapping_widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.terminate" class="md-nav__link">
    <span class="md-ellipsis">
      
        terminate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.WorkerPipelineManager" class="md-nav__link">
    <span class="md-ellipsis">
      
        WorkerPipelineManager
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WorkerPipelineManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.WorkerPipelineManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.check_and_create_config_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_and_create_config_file
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_ramanshift_to_wavelength" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_ramanshift_to_wavelength
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_timestamp_us_int_to_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_timestamp_us_int_to_str
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_timestamp_us_str_to_int" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_timestamp_us_str_to_int
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_wavelength_to_ramanshift" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_wavelength_to_ramanshift
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.generate_test_app" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_test_app
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_all_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_widgets
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_all_widgets_from_layout" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_widgets_from_layout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_day" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_day
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_sec" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_sec
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_us_int" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_us_int
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_us_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_us_str
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.messagebox_request_input" class="md-nav__link">
    <span class="md-ellipsis">
      
        messagebox_request_input
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.read_update_config_file_section" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_update_config_file_section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.run_with_timeout" class="md-nav__link">
    <span class="md-ellipsis">
      
        run_with_timeout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.test_hilvl_Raman_app" class="md-nav__link">
    <span class="md-ellipsis">
      
        test_hilvl_Raman_app
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.validator_float_greaterThanZero" class="md-nav__link">
    <span class="md-ellipsis">
      
        validator_float_greaterThanZero
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hilvl_coorGen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_coorGen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4_6" >
        
          
          <label class="md-nav__link" for="__nav_2_1_4_6" id="__nav_2_1_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    image_calibration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    image_calibration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image_calibration/Canvas_ROIdefinition/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Canvas_ROIdefinition
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image_calibration/objective_calibration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    objective_calibration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../image_calibration/plotter_heatmap_overlay/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    plotter_heatmap_overlay
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../motion_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    motion_video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../raman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../shortcut_handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    shortcut_handler
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4_10" >
        
          
          <label class="md-nav__link" for="__nav_2_1_4_10" id="__nav_2_1_4_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    submodules
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_4_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_4_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    submodules
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/heatmap_plotter_MeaRMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    heatmap_plotter_MeaRMap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/image_tiling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    image_tiling
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4_10_3" >
        
          
          <label class="md-nav__link" for="__nav_2_1_4_10_3" id="__nav_2_1_4_10_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    meaCoor_generator
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_1_4_10_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_4_10_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    meaCoor_generator
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/line_zScan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    line_zScan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/points_image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    points_image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/rectangle_aroundCentre/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rectangle_aroundCentre
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/rectangle_endToEnd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rectangle_endToEnd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/rectangle_image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rectangle_image
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/rectangle_video/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rectangle_video
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/singlePoint_zScan/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    singlePoint_zScan
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_generator/ssfrm_tilemthd1_rect_around/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ssfrm_tilemthd1_rect_around
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_4_10_4" >
        
          
          <label class="md-nav__link" for="__nav_2_1_4_10_4" id="__nav_2_1_4_10_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    meaCoor_modifier
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_2_1_4_10_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_4_10_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    meaCoor_modifier
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_modifier/every_z/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    every_z
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_modifier/gridify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gridify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_modifier/topology_visualiser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    topology_visualiser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_modifier/translateXYZ/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    translateXYZ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/meaCoor_modifier/zInterpolate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    zInterpolate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../submodules/peakfinder_plotter_MeaRaman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    peakfinder_plotter_MeaRaman
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../timestamp_coorshift/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    timestamp_coorshift
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../main_analyser/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    main_analyser
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_6" >
        
          
          <label class="md-nav__link" for="__nav_2_1_6" id="__nav_2_1_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    multiprocessing
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    multiprocessing
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multiprocessing/basemanager/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    basemanager
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multiprocessing/dataStreamer_Raman/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataStreamer_Raman
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../multiprocessing/dataStreamer_StageCam/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataStreamer_StageCam
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_7" >
        
          
          <label class="md-nav__link" for="__nav_2_1_7" id="__nav_2_1_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    resources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    resources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_7_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1_7_1" id="__nav_2_1_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    coordinate_generators
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_7_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    coordinate_generators
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/convert_2Dto3D_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    convert_2Dto3D_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/point_image_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    point_image_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/point_zScanLinear_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    point_zScanLinear_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/rect_aroundcentre_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rect_aroundcentre_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/rect_image_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rect_image_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/rect_startend_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rect_startend_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_generators/rect_video_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    rect_video_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_7_2" >
        
          
          <label class="md-nav__link" for="__nav_2_1_7_2" id="__nav_2_1_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    coordinate_modifiers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    coordinate_modifiers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/every_z_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    every_z_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/gridify_setup_finetuning_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gridify_setup_finetuning_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/gridify_setup_naming_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gridify_setup_naming_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/gridify_setup_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gridify_setup_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/topology_visuliser_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    topology_visuliser_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/translator_xyz_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    translator_xyz_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/coordinate_modifiers/zInterpolate_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    zInterpolate_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/dataHubPlus_Raman_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataHubPlus_Raman_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/dataHub_Raman_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataHub_Raman_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/dataHub_coor_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataHub_coor_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/dataHub_image_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    dataHub_image_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/heatmap_plotter_overlay_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    heatmap_plotter_overlay_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/heatmap_plotter_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    heatmap_plotter_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/hilvl_Raman_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_Raman_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/hilvl_brightfield_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_brightfield_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/hilvl_coorGen_coorMod_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_coorGen_coorMod_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/hilvl_coorGen_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    hilvl_coorGen_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/main_analyser_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    main_analyser_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/main_controller_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    main_controller_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_7_15" >
        
          
          <label class="md-nav__link" for="__nav_2_1_7_15" id="__nav_2_1_7_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    motion_video
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_2_1_7_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_7_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    motion_video
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/motion_video/brightfieldcontrol_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    brightfieldcontrol_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/motion_video/stagecontrol_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    stagecontrol_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/objective_calibration_controls_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    objective_calibration_controls_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/objective_calibration_main_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    objective_calibration_main_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/objectives_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    objectives_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/raman_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    raman_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/spectra_peak_finder_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    spectra_peak_finder_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/spectrometer_calibration_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    spectrometer_calibration_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/tiling_method_control_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tiling_method_control_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../resources/tiling_method_ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tiling_method_ui
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_8" >
        
          
          <label class="md-nav__link" for="__nav_2_1_8" id="__nav_2_1_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    utils
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/general/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    general
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../utils/gridify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    gridify
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman" class="md-nav__link">
    <span class="md-ellipsis">
      
        hilvl_Raman
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Enum_ScanDir" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enum_ScanDir
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Enum_ScanMthd" class="md-nav__link">
    <span class="md-ellipsis">
      
        Enum_ScanMthd
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hilvl_MeasurementAcq_Worker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hilvl_MeasurementAcq_Worker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.emit_finish_signals" class="md-nav__link">
    <span class="md-ellipsis">
      
        emit_finish_signals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.run_scan_continuous" class="md-nav__link">
    <span class="md-ellipsis">
      
        run_scan_continuous
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hilvl_MeasurementStorer_Worker
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hilvl_MeasurementStorer_Worker">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.relay_finished_message" class="md-nav__link">
    <span class="md-ellipsis">
      
        relay_finished_message
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.set_save_params" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_save_params
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.start_autosaver" class="md-nav__link">
    <span class="md-ellipsis">
      
        start_autosaver
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.stop_autosaver" class="md-nav__link">
    <span class="md-ellipsis">
      
        stop_autosaver
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman" class="md-nav__link">
    <span class="md-ellipsis">
      
        Wdg_HighLvlController_Raman
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Wdg_HighLvlController_Raman">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.abort_mapping_run" class="md-nav__link">
    <span class="md-ellipsis">
      
        abort_mapping_run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.disable_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        disable_widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.enable_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        enable_widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_error_during_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        handle_error_during_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_mapping_completion" class="md-nav__link">
    <span class="md-ellipsis">
      
        handle_mapping_completion
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_message_update" class="md-nav__link">
    <span class="md-ellipsis">
      
        handle_message_update
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.initialise" class="md-nav__link">
    <span class="md-ellipsis">
      
        initialise
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.initiate_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        initiate_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.reset_mapping_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        reset_mapping_widgets
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.terminate" class="md-nav__link">
    <span class="md-ellipsis">
      
        terminate
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.WorkerPipelineManager" class="md-nav__link">
    <span class="md-ellipsis">
      
        WorkerPipelineManager
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="WorkerPipelineManager">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.WorkerPipelineManager.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.check_and_create_config_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_and_create_config_file
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_ramanshift_to_wavelength" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_ramanshift_to_wavelength
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_timestamp_us_int_to_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_timestamp_us_int_to_str
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_timestamp_us_str_to_int" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_timestamp_us_str_to_int
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.convert_wavelength_to_ramanshift" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_wavelength_to_ramanshift
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.generate_test_app" class="md-nav__link">
    <span class="md-ellipsis">
      
        generate_test_app
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_all_widgets" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_widgets
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_all_widgets_from_layout" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_all_widgets_from_layout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_day" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_day
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_sec" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_sec
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_us_int" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_us_int
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.get_timestamp_us_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_timestamp_us_str
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.messagebox_request_input" class="md-nav__link">
    <span class="md-ellipsis">
      
        messagebox_request_input
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.read_update_config_file_section" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_update_config_file_section
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.run_with_timeout" class="md-nav__link">
    <span class="md-ellipsis">
      
        run_with_timeout
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.test_hilvl_Raman_app" class="md-nav__link">
    <span class="md-ellipsis">
      
        test_hilvl_Raman_app
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iris.gui.hilvl_Raman.validator_float_greaterThanZero" class="md-nav__link">
    <span class="md-ellipsis">
      
        validator_float_greaterThanZero
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



  <h1>hilvl_Raman</h1>

<div class="doc doc-object doc-module">



<a id="iris.gui.hilvl_Raman"></a>
    <div class="doc doc-contents first">










<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="iris.gui.hilvl_Raman.Enum_ScanDir" class="doc doc-heading">
            <code>Enum_ScanDir</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>



        <p>Enum for the scan direction options for the mapping measurement.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="iris.gui.hilvl_Raman.Enum_ScanDir.XDIR">XDIR</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>X-direction scan option</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="iris.gui.hilvl_Raman.Enum_ScanDir.YDIR">YDIR</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Y-direction scan option</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Enum_ScanDir</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum for the scan direction options for the mapping measurement.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        XDIR (str): X-direction scan option</span>
<span class="sd">        YDIR (str): Y-direction scan option</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">XDIR</span> <span class="o">=</span> <span class="s1">&#39;x-direction&#39;</span>
    <span class="n">YDIR</span> <span class="o">=</span> <span class="s1">&#39;y-direction&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="iris.gui.hilvl_Raman.Enum_ScanMthd" class="doc doc-heading">
            <code>Enum_ScanMthd</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="enum.Enum">Enum</span></code></p>



        <p>Enum for the scan options for the mapping measurement.</p>


<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="iris.gui.hilvl_Raman.Enum_ScanMthd.SNAKE">SNAKE</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Snake scan option</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="iris.gui.hilvl_Raman.Enum_ScanMthd.RASTER">RASTER</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raster scan option</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Enum_ScanMthd</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enum for the scan options for the mapping measurement.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        SNAKE (str): Snake scan option</span>
<span class="sd">        RASTER (str): Raster scan option</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">SNAKE</span> <span class="o">=</span> <span class="s1">&#39;snake&#39;</span>
    <span class="n">RASTER</span> <span class="o">=</span> <span class="s1">&#39;raster&#39;</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker" class="doc doc-heading">
            <code>Hilvl_MeasurementAcq_Worker</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtCore.QObject">QObject</span></code></p>



        <p>Worker class for performing measurements in a separate thread.</p>


<details class="signals" open>
  <summary>Signals</summary>
  <p>sig_progress_update (int): Signal to update progress percentage
sig_mea_error (str): Signal emitted when an error occurs during measurement
sig_mea_cancelled: Signal emitted when measurement is cancelled
sig_mea_done: Signal emitted when measurement is done</p>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span>
<span class="normal">203</span>
<span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span>
<span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span>
<span class="normal">398</span>
<span class="normal">399</span>
<span class="normal">400</span>
<span class="normal">401</span>
<span class="normal">402</span>
<span class="normal">403</span>
<span class="normal">404</span>
<span class="normal">405</span>
<span class="normal">406</span>
<span class="normal">407</span>
<span class="normal">408</span>
<span class="normal">409</span>
<span class="normal">410</span>
<span class="normal">411</span>
<span class="normal">412</span>
<span class="normal">413</span>
<span class="normal">414</span>
<span class="normal">415</span>
<span class="normal">416</span>
<span class="normal">417</span>
<span class="normal">418</span>
<span class="normal">419</span>
<span class="normal">420</span>
<span class="normal">421</span>
<span class="normal">422</span>
<span class="normal">423</span>
<span class="normal">424</span>
<span class="normal">425</span>
<span class="normal">426</span>
<span class="normal">427</span>
<span class="normal">428</span>
<span class="normal">429</span>
<span class="normal">430</span>
<span class="normal">431</span>
<span class="normal">432</span>
<span class="normal">433</span>
<span class="normal">434</span>
<span class="normal">435</span>
<span class="normal">436</span>
<span class="normal">437</span>
<span class="normal">438</span>
<span class="normal">439</span>
<span class="normal">440</span>
<span class="normal">441</span>
<span class="normal">442</span>
<span class="normal">443</span>
<span class="normal">444</span>
<span class="normal">445</span>
<span class="normal">446</span>
<span class="normal">447</span>
<span class="normal">448</span>
<span class="normal">449</span>
<span class="normal">450</span>
<span class="normal">451</span>
<span class="normal">452</span>
<span class="normal">453</span>
<span class="normal">454</span>
<span class="normal">455</span>
<span class="normal">456</span>
<span class="normal">457</span>
<span class="normal">458</span>
<span class="normal">459</span>
<span class="normal">460</span>
<span class="normal">461</span>
<span class="normal">462</span>
<span class="normal">463</span>
<span class="normal">464</span>
<span class="normal">465</span>
<span class="normal">466</span>
<span class="normal">467</span>
<span class="normal">468</span>
<span class="normal">469</span>
<span class="normal">470</span>
<span class="normal">471</span>
<span class="normal">472</span>
<span class="normal">473</span>
<span class="normal">474</span>
<span class="normal">475</span>
<span class="normal">476</span>
<span class="normal">477</span>
<span class="normal">478</span>
<span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Hilvl_MeasurementAcq_Worker</span><span class="p">(</span><span class="n">QObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Worker class for performing measurements in a separate thread.</span>

<span class="sd">    Signals:</span>
<span class="sd">        sig_progress_update (int): Signal to update progress percentage</span>
<span class="sd">        sig_mea_error (str): Signal emitted when an error occurs during measurement</span>
<span class="sd">        sig_mea_cancelled: Signal emitted when measurement is cancelled</span>
<span class="sd">        sig_mea_done: Signal emitted when measurement is done</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">sig_progress_update_str</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="c1"># Signal to update progress (string message)</span>

    <span class="n">sig_error_during_mea</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="c1"># Signal emitted when an error occurs during measurement</span>
    <span class="n">sig_mea_done</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span> <span class="c1"># Signal emitted when measurement is done (no differentiation between success, cancelled, or error)</span>
    <span class="n">sig_mea_done_msg</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="c1"># Signal emitted when measurement is done with a message</span>

    <span class="n">msg_mea_error</span> <span class="o">=</span> <span class="s2">&quot;An error occurred during the mapping measurement: &quot;</span>
    <span class="n">msg_mea_cancelled</span> <span class="o">=</span> <span class="s2">&quot;Mapping measurement was cancelled by the user&quot;</span>
    <span class="n">msg_mea_finished</span> <span class="o">=</span> <span class="s2">&quot;Mapping measurement finished successfully&quot;</span>

    <span class="n">err_msg_ismeasuring</span> <span class="o">=</span> <span class="s2">&quot;Cannot start a new mapping measurement while another is running.&quot;</span>

    <span class="n">_sig_stop_autosaver</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">_sig_gotocor</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">tuple</span><span class="p">,</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">)</span>
    <span class="n">_sig_setvelrel</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">)</span>
    <span class="n">_sig_append_queue_mea</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">,</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">)</span>
    <span class="n">_sig_remove_queue_mea</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
    <span class="n">_sig_acquire_discrete_mea</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">)</span>
    <span class="n">_sig_acquire_continuous_mea</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
    <span class="n">_sig_acquire_list_coors</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping_hub</span><span class="p">:</span><span class="n">MeaRMap_Hub</span><span class="p">,</span> <span class="n">syncer_raman</span><span class="p">:</span><span class="n">Syncer_Raman</span><span class="p">,</span> <span class="n">event_isacquiring</span><span class="p">:</span><span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Worker to perform the measurement acquisition for Raman imaging. For the slots details, refer to the</span>
<span class="sd">        methods in RamanMeasurement_Worker class in raman.py.</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_hub (MeaRMap_Hub): The mapping measurement hub to store the measurement data</span>
<span class="sd">            syncer_raman (Syncer_Raman): The synchronization object for Raman measurements</span>
<span class="sd">            event_isacquiring (threading.Event): The event flag to indicate if a measurement is ongoing</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mapping_hub</span> <span class="o">=</span> <span class="n">mapping_hub</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_syncer</span> <span class="o">=</span> <span class="n">syncer_raman</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span> <span class="o">=</span> <span class="n">event_isacquiring</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span> <span class="c1"># Queue for the acquisition to store the measurement data</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_time_remaining</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">points_done</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">total_points</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span> <span class="n">time_elapsed</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the estimated time remaining for the measurement.</span>

<span class="sd">        Args:</span>
<span class="sd">            points_done (int): The number of points already measured</span>
<span class="sd">            total_points (int): The total number of points to be measured</span>
<span class="sd">            time_elapsed (float): The time elapsed since the start of the measurement in seconds</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The estimated time remaining (auto converted to hours, minutes, seconds)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">points_done</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Waiting for first point...&quot;</span>
        <span class="n">time_per_point</span> <span class="o">=</span> <span class="n">time_elapsed</span> <span class="o">/</span> <span class="n">points_done</span>
        <span class="n">points_remaining</span> <span class="o">=</span> <span class="n">total_points</span> <span class="o">-</span> <span class="n">points_done</span>
        <span class="n">time_remaining</span> <span class="o">=</span> <span class="n">time_per_point</span> <span class="o">*</span> <span class="n">points_remaining</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_time_to_hms</span><span class="p">(</span><span class="n">time_remaining</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_time_to_hms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">time_remaining</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts time in seconds to a string in hours, minutes, and seconds.</span>

<span class="sd">        Args:</span>
<span class="sd">            time_remaining (float): The time remaining in seconds</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The time remaining in &quot;Xh Ym Zs&quot; format</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">hours</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time_remaining</span> <span class="o">//</span> <span class="mi">3600</span><span class="p">)</span>
        <span class="n">minutes</span> <span class="o">=</span> <span class="nb">int</span><span class="p">((</span><span class="n">time_remaining</span> <span class="o">%</span> <span class="mi">3600</span><span class="p">)</span> <span class="o">//</span> <span class="mi">60</span><span class="p">)</span>
        <span class="n">seconds</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">time_remaining</span> <span class="o">%</span> <span class="mi">60</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">hours</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">hours</span><span class="si">}</span><span class="s2">h </span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m </span><span class="si">{</span><span class="n">seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
        <span class="k">elif</span> <span class="n">minutes</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">minutes</span><span class="si">}</span><span class="s2">m </span><span class="si">{</span><span class="n">seconds</span><span class="si">}</span><span class="s2">s&quot;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">seconds</span><span class="si">}</span><span class="s2">s&quot;</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run_scan_discrete</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span><span class="n">AcquisitionParams</span><span class="p">,</span>
        <span class="n">mapping_coordinates</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
        <span class="n">q_mea_out</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">[</span><span class="nb">tuple</span><span class="p">[</span><span class="n">MeaRaman</span><span class="p">,</span><span class="nb">tuple</span><span class="p">]]):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting discrete mapping measurement...&quot;</span><span class="p">)</span>

        <span class="c1"># Go through all the coordinates</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>   <span class="c1"># Clear the acquisition queue</span>

        <span class="nb">print</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
        <span class="n">int_time</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="s1">&#39;int_time_ms&#39;</span><span class="p">]</span>

        <span class="c1"># Append the measurement queue to the acquisition controller</span>
        <span class="n">event_append_done</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sig_append_queue_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">,</span> <span class="n">event_append_done</span><span class="p">)</span>
        <span class="n">event_append_done</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

        <span class="n">time_start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">total_points</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mapping_coordinates</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">coor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mapping_coordinates</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">is_set</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_cancelled</span><span class="p">)</span>
                    <span class="k">break</span>

                <span class="c1"># Go to the requested coordinates</span>
                <span class="n">event_finish</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
                <span class="c1"># print(&#39;Moving to coordinates:&#39;,coor)</span>
                <span class="c1"># print(&#39;Emitting _sig_gotocor signal...&#39;)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_sig_gotocor</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
                    <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])),</span>
                    <span class="n">event_finish</span>
                <span class="p">)</span>
                <span class="c1"># print(&#39;Waiting for movement to complete...&#39;)</span>
                <span class="n">event_finish</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">event_finish</span><span class="o">.</span><span class="n">is_set</span><span class="p">():</span> <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="s1">&#39;Failed to reach the target coordinate. Movement to coordinates timed out.&#39;</span><span class="p">)</span>
                <span class="c1"># print(&#39;Movement wait finished. Event set:&#39;, event_finish.is_set())</span>

                <span class="c1"># Trigger the acquisition and wait for the return queue to be filled</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_sig_acquire_discrete_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

                <span class="n">mea</span><span class="p">:</span><span class="n">MeaRaman</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="n">int_time</span><span class="o">/</span><span class="mi">1000</span> <span class="o">*</span> <span class="mi">10</span><span class="p">)</span> <span class="c1"># Waits up to 10x the integration time for the measurement</span>

                <span class="c1"># Send the measurement data to the autosaver</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">continue</span>  <span class="c1"># Skip the zeroth measurement to avoid initialisation artifacts</span>
                <span class="n">q_mea_out</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">mea</span><span class="p">)</span>

            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_error_during_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_error</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error in run_scan_discrete:&#39;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>

            <span class="k">finally</span><span class="p">:</span>
                <span class="c1"># Update progress</span>
                <span class="n">points_done</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">time_elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">time_start</span>
                <span class="n">time_remaining_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_time_remaining</span><span class="p">(</span><span class="n">points_done</span><span class="p">,</span> <span class="n">total_points</span><span class="p">,</span> <span class="n">time_elapsed</span><span class="p">)</span>
                <span class="n">progress_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Measured </span><span class="si">{</span><span class="n">points_done</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">total_points</span><span class="si">}</span><span class="s1"> points. Estimated time remaining: </span><span class="si">{</span><span class="n">time_remaining_str</span><span class="si">}</span><span class="s1">. Elapsed time: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_time_to_hms</span><span class="p">(</span><span class="n">time_elapsed</span><span class="p">)</span><span class="si">}</span><span class="s1">.&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_progress_update_str</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">progress_msg</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sig_remove_queue_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_finished</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">run_scan_continuous</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">params</span><span class="p">:</span><span class="n">AcquisitionParams</span><span class="p">,</span>
        <span class="n">mapping_coordinates_ends</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
        <span class="n">mapping_speed_rel</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">q_mea_out</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scans the mapping coordinates continuously based on the given scan coordinates.</span>

<span class="sd">        Args:</span>
<span class="sd">            params (AcquisitionParams): The acquisition parameters for the measurement</span>
<span class="sd">            mapping_coordinates_ends (list): List of scan coordinates (end coordinates of each scan lines)</span>
<span class="sd">            mapping_speed_rel (int): The relative speed to move between the coordinates</span>
<span class="sd">            q_mea_out (queue.Queue): The queue to store the measurement data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting continuous mapping measurement...&quot;</span><span class="p">)</span>
        <span class="c1"># Prepare the events to synchronise the movement and measurement</span>
        <span class="n">event_finish_setvel</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
        <span class="n">event_finish_goto</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>

        <span class="c1"># Prepare the measurement queue to save the measurement data into</span>
        <span class="c1"># the mapping unit (set up in the main thread)</span>
        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>   <span class="c1"># Clear the acquisition queue</span>
        <span class="n">event_ready</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sig_append_queue_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">,</span> <span class="n">event_ready</span><span class="p">)</span>
        <span class="n">q_trig</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>  <span class="c1"># Queue to send the measurement trigger commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sig_acquire_continuous_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">q_trig</span><span class="p">,</span> <span class="n">q_mea_out</span><span class="p">)</span>

        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Acquisition started, moving to start position...&#39;</span><span class="p">)</span>
        <span class="c1"># &gt;&gt;&gt; Perform the mapping measurement &lt;&lt;&lt;</span>
        <span class="n">time_start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="n">total_points</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mapping_coordinates_ends</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">coor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mapping_coordinates_ends</span><span class="p">):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">flg_continue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_scan_continuous_step</span><span class="p">(</span><span class="n">mapping_speed_rel</span><span class="p">,</span> <span class="n">q_mea_out</span><span class="p">,</span> <span class="n">event_finish_setvel</span><span class="p">,</span> <span class="n">event_finish_goto</span><span class="p">,</span> <span class="n">q_trig</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">coor</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">flg_continue</span><span class="p">:</span> <span class="k">break</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_error_during_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_error</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error in run_scan_continuous:&#39;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
            <span class="k">finally</span><span class="p">:</span>
                <span class="c1"># Update progress</span>
                <span class="n">points_done</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">time_elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">time_start</span>
                <span class="n">time_remaining_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_time_remaining</span><span class="p">(</span><span class="n">points_done</span><span class="p">,</span> <span class="n">total_points</span><span class="p">,</span> <span class="n">time_elapsed</span><span class="p">)</span>
                <span class="n">progress_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Measured </span><span class="si">{</span><span class="n">points_done</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">total_points</span><span class="si">}</span><span class="s1"> lines. Estimated time remaining: </span><span class="si">{</span><span class="n">time_remaining_str</span><span class="si">}</span><span class="s1">. Elapsed time: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_time_to_hms</span><span class="p">(</span><span class="n">time_elapsed</span><span class="p">)</span><span class="si">}</span><span class="s1">.&#39;</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_progress_update_str</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">progress_msg</span><span class="p">)</span>

        <span class="c1"># Stop raman frame&#39;s continuous measurement and store the final measurements</span>
        <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">STORE</span><span class="p">)</span>
        <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">FINISH</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sig_remove_queue_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_finished</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_execute_scan_continuous_step</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">mapping_speed_rel</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
        <span class="n">q_mea_out</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">,</span>
        <span class="n">event_finish_setvel</span><span class="p">:</span><span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span>
        <span class="n">event_finish_goto</span><span class="p">:</span><span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">,</span>
        <span class="n">q_trig</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">,</span>
        <span class="n">coor_idx</span><span class="p">:</span><span class="nb">int</span><span class="p">,</span>
        <span class="n">coor</span><span class="p">:</span><span class="nb">tuple</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Executes a single step in the continuous mapping measurement.</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_speed_rel (float): The relative speed to move between the coordinates</span>
<span class="sd">            q_mea_out (queue.Queue): The queue to store the measurement data</span>
<span class="sd">            event_finish_setvel (threading.Event): Event to signal the completion of setting velocity</span>
<span class="sd">            event_finish_goto (threading.Event): Event to signal the completion of going to coordinates</span>
<span class="sd">            q_trig (queue.Queue): Queue to send the measurement trigger commands</span>
<span class="sd">            i (int): The index of the current coordinate</span>
<span class="sd">            coor (tuple): The target coordinate</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the step was executed successfully, False if the measurement was cancelled</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">is_set</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_cancelled</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="n">event_finish_setvel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">coor_idx</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Moving to start position...&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_syncer</span><span class="o">.</span><span class="n">set_notready</span><span class="p">()</span>
            <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">START</span><span class="p">)</span>
            <span class="n">event_finish_setvel</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reached start position.&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">coor_idx</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Moving to next line end position (odd line)...&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_syncer</span><span class="o">.</span><span class="n">set_notready</span><span class="p">()</span>
            <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">IGNORE</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sig_setvelrel</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">mapping_speed_rel</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">event_finish_setvel</span><span class="p">)</span>   <span class="c1"># Set actual speed to move between x-coordinates</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reached line end position.&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Moving to next line end position (even line)...&#39;</span><span class="p">)</span>
            <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">STORE</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sig_setvelrel</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="mf">100.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">event_finish_setvel</span><span class="p">)</span> <span class="c1"># Set actual speed to move between x-coordinates</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Reached line end position.&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_syncer</span><span class="o">.</span><span class="n">wait_ready</span><span class="p">()</span>
        <span class="n">event_finish_setvel</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>

                <span class="c1"># Check the autosave queue size and wait if necessary to prevent overflow</span>
        <span class="n">q_size</span> <span class="o">=</span> <span class="n">q_mea_out</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">q_size</span> <span class="o">&gt;</span> <span class="n">AppRamanEnum</span><span class="o">.</span><span class="n">CONTINUOUS_MEASUREMENT_BUFFER_SIZE</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">while</span> <span class="ow">not</span> <span class="n">q_mea_out</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Measurement buffer full:</span><span class="se">\n</span><span class="s1">Adjust [APP - RAMAN MEASUREMENT CONTROLLER] &quot;continuous_measurement_buffer_size&quot;</span><span class="se">\n</span><span class="s1">in the config.ini file to adjust the buffer size&#39;</span><span class="p">)</span>
                <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Waiting for the measurement buffer to clear... Current size: </span><span class="si">{</span><span class="n">q_mea_out</span><span class="o">.</span><span class="n">qsize</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">IGNORE</span><span class="p">)</span>

        <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">coor_idx</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="c1"># Skip the first measurement to avoid initialisation artifacts</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                    <span class="k">continue</span>
                <span class="n">mea</span><span class="p">:</span><span class="n">MeaRaman</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
                <span class="n">q_mea_out</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">mea</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">queue</span><span class="o">.</span><span class="n">Empty</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_error_during_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_error</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error in run_scan_continuous (autosave):&#39;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
                <span class="k">continue</span>

                <span class="c1"># Go to the requested coordinates</span>
        <span class="n">event_finish_goto</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sig_gotocor</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
                    <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span><span class="nb">float</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])),</span>
                    <span class="n">event_finish_goto</span>
                <span class="p">)</span>
        <span class="n">event_finish_goto</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Emits the measurement done signal with a message.</span>

<span class="sd">        Args:</span>
<span class="sd">            msg (str): The message to emit with the signal</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_mea_done</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_mea_done_msg</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">mapping_hub</span><span class="p">,</span> <span class="n">syncer_raman</span><span class="p">,</span> <span class="n">event_isacquiring</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Worker to perform the measurement acquisition for Raman imaging. For the slots details, refer to the
methods in RamanMeasurement_Worker class in raman.py.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mapping_hub</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="MeaRMap_Hub (iris.data.measurement_RamanMap.MeaRMap_Hub)" href="../../data/measurement_RamanMap/#iris.data.measurement_RamanMap.MeaRMap_Hub">MeaRMap_Hub</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mapping measurement hub to store the measurement data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>syncer_raman</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Syncer_Raman (iris.gui.raman.Syncer_Raman)" href="../raman/#iris.gui.raman.Syncer_Raman">Syncer_Raman</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The synchronization object for Raman measurements</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>event_isacquiring</code>
            </td>
            <td>
                  <code><span title="iris.utils.general.threading.Event">Event</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The event flag to indicate if a measurement is ongoing</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping_hub</span><span class="p">:</span><span class="n">MeaRMap_Hub</span><span class="p">,</span> <span class="n">syncer_raman</span><span class="p">:</span><span class="n">Syncer_Raman</span><span class="p">,</span> <span class="n">event_isacquiring</span><span class="p">:</span><span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Worker to perform the measurement acquisition for Raman imaging. For the slots details, refer to the</span>
<span class="sd">    methods in RamanMeasurement_Worker class in raman.py.</span>

<span class="sd">    Args:</span>
<span class="sd">        mapping_hub (MeaRMap_Hub): The mapping measurement hub to store the measurement data</span>
<span class="sd">        syncer_raman (Syncer_Raman): The synchronization object for Raman measurements</span>
<span class="sd">        event_isacquiring (threading.Event): The event flag to indicate if a measurement is ongoing</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mapping_hub</span> <span class="o">=</span> <span class="n">mapping_hub</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_syncer</span> <span class="o">=</span> <span class="n">syncer_raman</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span> <span class="o">=</span> <span class="n">event_isacquiring</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span> <span class="c1"># Queue for the acquisition to store the measurement data</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.emit_finish_signals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">emit_finish_signals</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Emits the measurement done signal with a message.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>msg</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The message to emit with the signal</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">479</span>
<span class="normal">480</span>
<span class="normal">481</span>
<span class="normal">482</span>
<span class="normal">483</span>
<span class="normal">484</span>
<span class="normal">485</span>
<span class="normal">486</span>
<span class="normal">487</span>
<span class="normal">488</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Emits the measurement done signal with a message.</span>

<span class="sd">    Args:</span>
<span class="sd">        msg (str): The message to emit with the signal</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sig_mea_done</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">sig_mea_done_msg</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementAcq_Worker.run_scan_continuous" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_scan_continuous</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">mapping_coordinates_ends</span><span class="p">,</span> <span class="n">mapping_speed_rel</span><span class="p">,</span> <span class="n">q_mea_out</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Scans the mapping coordinates continuously based on the given scan coordinates.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>params</code>
            </td>
            <td>
                  <code><span title="iris.gui.raman.AcquisitionParams">AcquisitionParams</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The acquisition parameters for the measurement</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mapping_coordinates_ends</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>List of scan coordinates (end coordinates of each scan lines)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mapping_speed_rel</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The relative speed to move between the coordinates</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>q_mea_out</code>
            </td>
            <td>
                  <code><span title="queue.Queue">Queue</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The queue to store the measurement data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">run_scan_continuous</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">params</span><span class="p">:</span><span class="n">AcquisitionParams</span><span class="p">,</span>
    <span class="n">mapping_coordinates_ends</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
    <span class="n">mapping_speed_rel</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
    <span class="n">q_mea_out</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Scans the mapping coordinates continuously based on the given scan coordinates.</span>

<span class="sd">    Args:</span>
<span class="sd">        params (AcquisitionParams): The acquisition parameters for the measurement</span>
<span class="sd">        mapping_coordinates_ends (list): List of scan coordinates (end coordinates of each scan lines)</span>
<span class="sd">        mapping_speed_rel (int): The relative speed to move between the coordinates</span>
<span class="sd">        q_mea_out (queue.Queue): The queue to store the measurement data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Starting continuous mapping measurement...&quot;</span><span class="p">)</span>
    <span class="c1"># Prepare the events to synchronise the movement and measurement</span>
    <span class="n">event_finish_setvel</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
    <span class="n">event_finish_goto</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>

    <span class="c1"># Prepare the measurement queue to save the measurement data into</span>
    <span class="c1"># the mapping unit (set up in the main thread)</span>
    <span class="k">while</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span> <span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>   <span class="c1"># Clear the acquisition queue</span>
    <span class="n">event_ready</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sig_append_queue_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">,</span> <span class="n">event_ready</span><span class="p">)</span>
    <span class="n">q_trig</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>  <span class="c1"># Queue to send the measurement trigger commands</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sig_acquire_continuous_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">params</span><span class="p">,</span> <span class="n">q_trig</span><span class="p">,</span> <span class="n">q_mea_out</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Acquisition started, moving to start position...&#39;</span><span class="p">)</span>
    <span class="c1"># &gt;&gt;&gt; Perform the mapping measurement &lt;&lt;&lt;</span>
    <span class="n">time_start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="n">total_points</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">mapping_coordinates_ends</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">coor</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">mapping_coordinates_ends</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">flg_continue</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_execute_scan_continuous_step</span><span class="p">(</span><span class="n">mapping_speed_rel</span><span class="p">,</span> <span class="n">q_mea_out</span><span class="p">,</span> <span class="n">event_finish_setvel</span><span class="p">,</span> <span class="n">event_finish_goto</span><span class="p">,</span> <span class="n">q_trig</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">coor</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">flg_continue</span><span class="p">:</span> <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sig_error_during_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_error</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Error in run_scan_continuous:&#39;</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="c1"># Update progress</span>
            <span class="n">points_done</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">time_elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">time_start</span>
            <span class="n">time_remaining_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_time_remaining</span><span class="p">(</span><span class="n">points_done</span><span class="p">,</span> <span class="n">total_points</span><span class="p">,</span> <span class="n">time_elapsed</span><span class="p">)</span>
            <span class="n">progress_msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Measured </span><span class="si">{</span><span class="n">points_done</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">total_points</span><span class="si">}</span><span class="s1"> lines. Estimated time remaining: </span><span class="si">{</span><span class="n">time_remaining_str</span><span class="si">}</span><span class="s1">. Elapsed time: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_time_to_hms</span><span class="p">(</span><span class="n">time_elapsed</span><span class="p">)</span><span class="si">}</span><span class="s1">.&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sig_progress_update_str</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">progress_msg</span><span class="p">)</span>

    <span class="c1"># Stop raman frame&#39;s continuous measurement and store the final measurements</span>
    <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">STORE</span><span class="p">)</span>
    <span class="n">q_trig</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">EnumTrig</span><span class="o">.</span><span class="n">FINISH</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_sig_remove_queue_mea</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_q_mea_acq</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">emit_finish_signals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_mea_finished</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker" class="doc doc-heading">
            <code>Hilvl_MeasurementStorer_Worker</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtCore.QObject">QObject</span></code></p>










              <details class="mkdocstrings-source">
                <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 69</span>
<span class="normal"> 70</span>
<span class="normal"> 71</span>
<span class="normal"> 72</span>
<span class="normal"> 73</span>
<span class="normal"> 74</span>
<span class="normal"> 75</span>
<span class="normal"> 76</span>
<span class="normal"> 77</span>
<span class="normal"> 78</span>
<span class="normal"> 79</span>
<span class="normal"> 80</span>
<span class="normal"> 81</span>
<span class="normal"> 82</span>
<span class="normal"> 83</span>
<span class="normal"> 84</span>
<span class="normal"> 85</span>
<span class="normal"> 86</span>
<span class="normal"> 87</span>
<span class="normal"> 88</span>
<span class="normal"> 89</span>
<span class="normal"> 90</span>
<span class="normal"> 91</span>
<span class="normal"> 92</span>
<span class="normal"> 93</span>
<span class="normal"> 94</span>
<span class="normal"> 95</span>
<span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span>
<span class="normal">163</span>
<span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Hilvl_MeasurementStorer_Worker</span><span class="p">(</span><span class="n">QObject</span><span class="p">):</span>

    <span class="n">sig_gotmea</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span> <span class="c1"># Emitted when a measurement is received from the queue</span>
    <span class="n">sig_error</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="n">sig_finished</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>
    <span class="n">sig_finished_relay_msg</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>    <span class="c1"># To relay finished messages once the imaging and the saving are both done. The message is obtained from the acquisition worker.</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">datastreamer_stage</span><span class="p">:</span><span class="n">DataStreamer_StageCam</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ds_stage</span> <span class="o">=</span> <span class="n">datastreamer_stage</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="n">MeaRMap_Unit</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">set_save_params</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">mapping_unit</span><span class="p">:</span><span class="n">MeaRMap_Unit</span><span class="p">,</span>
        <span class="n">queue_measurement</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">[</span><span class="n">MeaRaman</span><span class="p">]):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Sets the parameters for the autosaver</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_unit (MeaRMap_Unit): The mapping unit to store the measurement data</span>
<span class="sd">            queue_measurement (queue.Queue): The queue to store the measurement data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_unit</span> <span class="o">=</span> <span class="n">mapping_unit</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span> <span class="o">=</span> <span class="n">queue_measurement</span>

    <span class="nd">@Slot</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">start_autosaver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Starts the measurement autosaver</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_next_autosave</span><span class="p">()</span>

    <span class="nd">@Slot</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">stop_autosaver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stops the measurement autosaver</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@Slot</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_schedule_next_autosave</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Schedules the next autosave measurement</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_autosave_measurement</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sig_error</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in scheduling autosave: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in scheduling autosave: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
                <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_next_autosave</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Autosaver finished all measurements.&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_finished</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>

    <span class="nd">@Slot</span><span class="p">()</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">_autosave_measurement</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        A function to automatically grabs the measurement data form the</span>
<span class="sd">        measurement queue and stores it in the storage class.</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_unit (MappingMeasurement_Unit): The mapping unit to store the measurement data</span>
<span class="sd">            flg_isrunning (threading.Event): The flag to stop the measurement</span>
<span class="sd">            queue_measurement (queue.Queue): The queue to store the measurement data</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># print(f&#39;Autosaver checking queue, size: {self._queue_measurement.qsize()}&#39;)</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span><span class="o">.</span><span class="n">qsize</span><span class="p">()):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span><span class="p">:</span><span class="n">MeaRaman</span><span class="o">|</span><span class="nb">tuple</span><span class="p">[</span><span class="n">MeaRaman</span><span class="p">,</span><span class="nb">tuple</span><span class="p">]</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">0.05</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_gotmea</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
            <span class="k">except</span> <span class="n">queue</span><span class="o">.</span><span class="n">Empty</span><span class="p">:</span>
                <span class="k">return</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_error</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in autosaver: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
                <span class="k">return</span>

            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="n">MeaRaman</span><span class="p">):</span>
                    <span class="n">mea</span> <span class="o">=</span> <span class="n">result</span>
                    <span class="c1"># mea = mea.copy()</span>
                    <span class="n">ts</span> <span class="o">=</span> <span class="n">mea</span><span class="o">.</span><span class="n">get_latest_timestamp</span><span class="p">()</span>
                    <span class="n">coor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ds_stage</span><span class="o">.</span><span class="n">get_coordinates_interpolate</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">mea</span><span class="p">,</span> <span class="n">coor</span> <span class="o">=</span> <span class="n">result</span>
                    <span class="c1"># mea = mea.copy()</span>
                    <span class="n">ts</span> <span class="o">=</span> <span class="n">mea</span><span class="o">.</span><span class="n">get_latest_timestamp</span><span class="p">()</span>
                <span class="k">assert</span> <span class="n">coor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;No stage coordinates found for the measurement timestamp&#39;</span>

                <span class="n">mea</span><span class="o">.</span><span class="n">check_uptodate</span><span class="p">(</span><span class="n">autoupdate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_unit</span><span class="o">.</span><span class="n">append_ramanmeasurement_data</span><span class="p">(</span>
                    <span class="n">timestamp</span><span class="o">=</span><span class="n">ts</span><span class="p">,</span>
                    <span class="n">coor</span><span class="o">=</span><span class="n">coor</span><span class="p">,</span>
                    <span class="n">measurement</span><span class="o">=</span><span class="n">mea</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">sig_error</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error in autosaver: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">relay_finished_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Relays the finished message when the autosaver is done</span>

<span class="sd">        Args:</span>
<span class="sd">            msg (str): The message to relay</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sig_finished_relay_msg</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">relay_finished_message</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.relay_finished_message" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">relay_finished_message</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Relays the finished message when the autosaver is done</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>msg</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The message to relay</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">relay_finished_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Relays the finished message when the autosaver is done</span>

<span class="sd">    Args:</span>
<span class="sd">        msg (str): The message to relay</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span><span class="o">.</span><span class="n">empty</span><span class="p">():</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_finished_relay_msg</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">QTimer</span><span class="o">.</span><span class="n">singleShot</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">relay_finished_message</span><span class="p">(</span><span class="n">msg</span><span class="p">))</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.set_save_params" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_save_params</span><span class="p">(</span><span class="n">mapping_unit</span><span class="p">,</span> <span class="n">queue_measurement</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Sets the parameters for the autosaver</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mapping_unit</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="MeaRMap_Unit (iris.data.measurement_RamanMap.MeaRMap_Unit)" href="../../data/measurement_RamanMap/#iris.data.measurement_RamanMap.MeaRMap_Unit">MeaRMap_Unit</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mapping unit to store the measurement data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>queue_measurement</code>
            </td>
            <td>
                  <code><span title="queue.Queue">Queue</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The queue to store the measurement data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="n">MeaRMap_Unit</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">set_save_params</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">mapping_unit</span><span class="p">:</span><span class="n">MeaRMap_Unit</span><span class="p">,</span>
    <span class="n">queue_measurement</span><span class="p">:</span><span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">[</span><span class="n">MeaRaman</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Sets the parameters for the autosaver</span>

<span class="sd">    Args:</span>
<span class="sd">        mapping_unit (MeaRMap_Unit): The mapping unit to store the measurement data</span>
<span class="sd">        queue_measurement (queue.Queue): The queue to store the measurement data</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_mapping_unit</span> <span class="o">=</span> <span class="n">mapping_unit</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_queue_measurement</span> <span class="o">=</span> <span class="n">queue_measurement</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.start_autosaver" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">start_autosaver</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Starts the measurement autosaver</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">start_autosaver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Starts the measurement autosaver</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_schedule_next_autosave</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Hilvl_MeasurementStorer_Worker.stop_autosaver" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">stop_autosaver</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Stops the measurement autosaver</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">()</span>
<span class="k">def</span><span class="w"> </span><span class="nf">stop_autosaver</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Stops the measurement autosaver</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_isrunning</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman" class="doc doc-heading">
            <code>Wdg_HighLvlController_Raman</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="iris.utils.general.qw.QWidget">QWidget</span></code></p>



        <p>A higher level controller ruling over the motion controller and raman spectroscopy controller.</p>


<details class="houses-the" open>
  <summary>Houses the</summary>
  <ol>
<li>Plot (auto-update)</li>
<li>Mapping functionalities</li>
<li>Raman spectroscopy save functions</li>
</ol>
</details>







              <details class="mkdocstrings-source">
                <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 531</span>
<span class="normal"> 532</span>
<span class="normal"> 533</span>
<span class="normal"> 534</span>
<span class="normal"> 535</span>
<span class="normal"> 536</span>
<span class="normal"> 537</span>
<span class="normal"> 538</span>
<span class="normal"> 539</span>
<span class="normal"> 540</span>
<span class="normal"> 541</span>
<span class="normal"> 542</span>
<span class="normal"> 543</span>
<span class="normal"> 544</span>
<span class="normal"> 545</span>
<span class="normal"> 546</span>
<span class="normal"> 547</span>
<span class="normal"> 548</span>
<span class="normal"> 549</span>
<span class="normal"> 550</span>
<span class="normal"> 551</span>
<span class="normal"> 552</span>
<span class="normal"> 553</span>
<span class="normal"> 554</span>
<span class="normal"> 555</span>
<span class="normal"> 556</span>
<span class="normal"> 557</span>
<span class="normal"> 558</span>
<span class="normal"> 559</span>
<span class="normal"> 560</span>
<span class="normal"> 561</span>
<span class="normal"> 562</span>
<span class="normal"> 563</span>
<span class="normal"> 564</span>
<span class="normal"> 565</span>
<span class="normal"> 566</span>
<span class="normal"> 567</span>
<span class="normal"> 568</span>
<span class="normal"> 569</span>
<span class="normal"> 570</span>
<span class="normal"> 571</span>
<span class="normal"> 572</span>
<span class="normal"> 573</span>
<span class="normal"> 574</span>
<span class="normal"> 575</span>
<span class="normal"> 576</span>
<span class="normal"> 577</span>
<span class="normal"> 578</span>
<span class="normal"> 579</span>
<span class="normal"> 580</span>
<span class="normal"> 581</span>
<span class="normal"> 582</span>
<span class="normal"> 583</span>
<span class="normal"> 584</span>
<span class="normal"> 585</span>
<span class="normal"> 586</span>
<span class="normal"> 587</span>
<span class="normal"> 588</span>
<span class="normal"> 589</span>
<span class="normal"> 590</span>
<span class="normal"> 591</span>
<span class="normal"> 592</span>
<span class="normal"> 593</span>
<span class="normal"> 594</span>
<span class="normal"> 595</span>
<span class="normal"> 596</span>
<span class="normal"> 597</span>
<span class="normal"> 598</span>
<span class="normal"> 599</span>
<span class="normal"> 600</span>
<span class="normal"> 601</span>
<span class="normal"> 602</span>
<span class="normal"> 603</span>
<span class="normal"> 604</span>
<span class="normal"> 605</span>
<span class="normal"> 606</span>
<span class="normal"> 607</span>
<span class="normal"> 608</span>
<span class="normal"> 609</span>
<span class="normal"> 610</span>
<span class="normal"> 611</span>
<span class="normal"> 612</span>
<span class="normal"> 613</span>
<span class="normal"> 614</span>
<span class="normal"> 615</span>
<span class="normal"> 616</span>
<span class="normal"> 617</span>
<span class="normal"> 618</span>
<span class="normal"> 619</span>
<span class="normal"> 620</span>
<span class="normal"> 621</span>
<span class="normal"> 622</span>
<span class="normal"> 623</span>
<span class="normal"> 624</span>
<span class="normal"> 625</span>
<span class="normal"> 626</span>
<span class="normal"> 627</span>
<span class="normal"> 628</span>
<span class="normal"> 629</span>
<span class="normal"> 630</span>
<span class="normal"> 631</span>
<span class="normal"> 632</span>
<span class="normal"> 633</span>
<span class="normal"> 634</span>
<span class="normal"> 635</span>
<span class="normal"> 636</span>
<span class="normal"> 637</span>
<span class="normal"> 638</span>
<span class="normal"> 639</span>
<span class="normal"> 640</span>
<span class="normal"> 641</span>
<span class="normal"> 642</span>
<span class="normal"> 643</span>
<span class="normal"> 644</span>
<span class="normal"> 645</span>
<span class="normal"> 646</span>
<span class="normal"> 647</span>
<span class="normal"> 648</span>
<span class="normal"> 649</span>
<span class="normal"> 650</span>
<span class="normal"> 651</span>
<span class="normal"> 652</span>
<span class="normal"> 653</span>
<span class="normal"> 654</span>
<span class="normal"> 655</span>
<span class="normal"> 656</span>
<span class="normal"> 657</span>
<span class="normal"> 658</span>
<span class="normal"> 659</span>
<span class="normal"> 660</span>
<span class="normal"> 661</span>
<span class="normal"> 662</span>
<span class="normal"> 663</span>
<span class="normal"> 664</span>
<span class="normal"> 665</span>
<span class="normal"> 666</span>
<span class="normal"> 667</span>
<span class="normal"> 668</span>
<span class="normal"> 669</span>
<span class="normal"> 670</span>
<span class="normal"> 671</span>
<span class="normal"> 672</span>
<span class="normal"> 673</span>
<span class="normal"> 674</span>
<span class="normal"> 675</span>
<span class="normal"> 676</span>
<span class="normal"> 677</span>
<span class="normal"> 678</span>
<span class="normal"> 679</span>
<span class="normal"> 680</span>
<span class="normal"> 681</span>
<span class="normal"> 682</span>
<span class="normal"> 683</span>
<span class="normal"> 684</span>
<span class="normal"> 685</span>
<span class="normal"> 686</span>
<span class="normal"> 687</span>
<span class="normal"> 688</span>
<span class="normal"> 689</span>
<span class="normal"> 690</span>
<span class="normal"> 691</span>
<span class="normal"> 692</span>
<span class="normal"> 693</span>
<span class="normal"> 694</span>
<span class="normal"> 695</span>
<span class="normal"> 696</span>
<span class="normal"> 697</span>
<span class="normal"> 698</span>
<span class="normal"> 699</span>
<span class="normal"> 700</span>
<span class="normal"> 701</span>
<span class="normal"> 702</span>
<span class="normal"> 703</span>
<span class="normal"> 704</span>
<span class="normal"> 705</span>
<span class="normal"> 706</span>
<span class="normal"> 707</span>
<span class="normal"> 708</span>
<span class="normal"> 709</span>
<span class="normal"> 710</span>
<span class="normal"> 711</span>
<span class="normal"> 712</span>
<span class="normal"> 713</span>
<span class="normal"> 714</span>
<span class="normal"> 715</span>
<span class="normal"> 716</span>
<span class="normal"> 717</span>
<span class="normal"> 718</span>
<span class="normal"> 719</span>
<span class="normal"> 720</span>
<span class="normal"> 721</span>
<span class="normal"> 722</span>
<span class="normal"> 723</span>
<span class="normal"> 724</span>
<span class="normal"> 725</span>
<span class="normal"> 726</span>
<span class="normal"> 727</span>
<span class="normal"> 728</span>
<span class="normal"> 729</span>
<span class="normal"> 730</span>
<span class="normal"> 731</span>
<span class="normal"> 732</span>
<span class="normal"> 733</span>
<span class="normal"> 734</span>
<span class="normal"> 735</span>
<span class="normal"> 736</span>
<span class="normal"> 737</span>
<span class="normal"> 738</span>
<span class="normal"> 739</span>
<span class="normal"> 740</span>
<span class="normal"> 741</span>
<span class="normal"> 742</span>
<span class="normal"> 743</span>
<span class="normal"> 744</span>
<span class="normal"> 745</span>
<span class="normal"> 746</span>
<span class="normal"> 747</span>
<span class="normal"> 748</span>
<span class="normal"> 749</span>
<span class="normal"> 750</span>
<span class="normal"> 751</span>
<span class="normal"> 752</span>
<span class="normal"> 753</span>
<span class="normal"> 754</span>
<span class="normal"> 755</span>
<span class="normal"> 756</span>
<span class="normal"> 757</span>
<span class="normal"> 758</span>
<span class="normal"> 759</span>
<span class="normal"> 760</span>
<span class="normal"> 761</span>
<span class="normal"> 762</span>
<span class="normal"> 763</span>
<span class="normal"> 764</span>
<span class="normal"> 765</span>
<span class="normal"> 766</span>
<span class="normal"> 767</span>
<span class="normal"> 768</span>
<span class="normal"> 769</span>
<span class="normal"> 770</span>
<span class="normal"> 771</span>
<span class="normal"> 772</span>
<span class="normal"> 773</span>
<span class="normal"> 774</span>
<span class="normal"> 775</span>
<span class="normal"> 776</span>
<span class="normal"> 777</span>
<span class="normal"> 778</span>
<span class="normal"> 779</span>
<span class="normal"> 780</span>
<span class="normal"> 781</span>
<span class="normal"> 782</span>
<span class="normal"> 783</span>
<span class="normal"> 784</span>
<span class="normal"> 785</span>
<span class="normal"> 786</span>
<span class="normal"> 787</span>
<span class="normal"> 788</span>
<span class="normal"> 789</span>
<span class="normal"> 790</span>
<span class="normal"> 791</span>
<span class="normal"> 792</span>
<span class="normal"> 793</span>
<span class="normal"> 794</span>
<span class="normal"> 795</span>
<span class="normal"> 796</span>
<span class="normal"> 797</span>
<span class="normal"> 798</span>
<span class="normal"> 799</span>
<span class="normal"> 800</span>
<span class="normal"> 801</span>
<span class="normal"> 802</span>
<span class="normal"> 803</span>
<span class="normal"> 804</span>
<span class="normal"> 805</span>
<span class="normal"> 806</span>
<span class="normal"> 807</span>
<span class="normal"> 808</span>
<span class="normal"> 809</span>
<span class="normal"> 810</span>
<span class="normal"> 811</span>
<span class="normal"> 812</span>
<span class="normal"> 813</span>
<span class="normal"> 814</span>
<span class="normal"> 815</span>
<span class="normal"> 816</span>
<span class="normal"> 817</span>
<span class="normal"> 818</span>
<span class="normal"> 819</span>
<span class="normal"> 820</span>
<span class="normal"> 821</span>
<span class="normal"> 822</span>
<span class="normal"> 823</span>
<span class="normal"> 824</span>
<span class="normal"> 825</span>
<span class="normal"> 826</span>
<span class="normal"> 827</span>
<span class="normal"> 828</span>
<span class="normal"> 829</span>
<span class="normal"> 830</span>
<span class="normal"> 831</span>
<span class="normal"> 832</span>
<span class="normal"> 833</span>
<span class="normal"> 834</span>
<span class="normal"> 835</span>
<span class="normal"> 836</span>
<span class="normal"> 837</span>
<span class="normal"> 838</span>
<span class="normal"> 839</span>
<span class="normal"> 840</span>
<span class="normal"> 841</span>
<span class="normal"> 842</span>
<span class="normal"> 843</span>
<span class="normal"> 844</span>
<span class="normal"> 845</span>
<span class="normal"> 846</span>
<span class="normal"> 847</span>
<span class="normal"> 848</span>
<span class="normal"> 849</span>
<span class="normal"> 850</span>
<span class="normal"> 851</span>
<span class="normal"> 852</span>
<span class="normal"> 853</span>
<span class="normal"> 854</span>
<span class="normal"> 855</span>
<span class="normal"> 856</span>
<span class="normal"> 857</span>
<span class="normal"> 858</span>
<span class="normal"> 859</span>
<span class="normal"> 860</span>
<span class="normal"> 861</span>
<span class="normal"> 862</span>
<span class="normal"> 863</span>
<span class="normal"> 864</span>
<span class="normal"> 865</span>
<span class="normal"> 866</span>
<span class="normal"> 867</span>
<span class="normal"> 868</span>
<span class="normal"> 869</span>
<span class="normal"> 870</span>
<span class="normal"> 871</span>
<span class="normal"> 872</span>
<span class="normal"> 873</span>
<span class="normal"> 874</span>
<span class="normal"> 875</span>
<span class="normal"> 876</span>
<span class="normal"> 877</span>
<span class="normal"> 878</span>
<span class="normal"> 879</span>
<span class="normal"> 880</span>
<span class="normal"> 881</span>
<span class="normal"> 882</span>
<span class="normal"> 883</span>
<span class="normal"> 884</span>
<span class="normal"> 885</span>
<span class="normal"> 886</span>
<span class="normal"> 887</span>
<span class="normal"> 888</span>
<span class="normal"> 889</span>
<span class="normal"> 890</span>
<span class="normal"> 891</span>
<span class="normal"> 892</span>
<span class="normal"> 893</span>
<span class="normal"> 894</span>
<span class="normal"> 895</span>
<span class="normal"> 896</span>
<span class="normal"> 897</span>
<span class="normal"> 898</span>
<span class="normal"> 899</span>
<span class="normal"> 900</span>
<span class="normal"> 901</span>
<span class="normal"> 902</span>
<span class="normal"> 903</span>
<span class="normal"> 904</span>
<span class="normal"> 905</span>
<span class="normal"> 906</span>
<span class="normal"> 907</span>
<span class="normal"> 908</span>
<span class="normal"> 909</span>
<span class="normal"> 910</span>
<span class="normal"> 911</span>
<span class="normal"> 912</span>
<span class="normal"> 913</span>
<span class="normal"> 914</span>
<span class="normal"> 915</span>
<span class="normal"> 916</span>
<span class="normal"> 917</span>
<span class="normal"> 918</span>
<span class="normal"> 919</span>
<span class="normal"> 920</span>
<span class="normal"> 921</span>
<span class="normal"> 922</span>
<span class="normal"> 923</span>
<span class="normal"> 924</span>
<span class="normal"> 925</span>
<span class="normal"> 926</span>
<span class="normal"> 927</span>
<span class="normal"> 928</span>
<span class="normal"> 929</span>
<span class="normal"> 930</span>
<span class="normal"> 931</span>
<span class="normal"> 932</span>
<span class="normal"> 933</span>
<span class="normal"> 934</span>
<span class="normal"> 935</span>
<span class="normal"> 936</span>
<span class="normal"> 937</span>
<span class="normal"> 938</span>
<span class="normal"> 939</span>
<span class="normal"> 940</span>
<span class="normal"> 941</span>
<span class="normal"> 942</span>
<span class="normal"> 943</span>
<span class="normal"> 944</span>
<span class="normal"> 945</span>
<span class="normal"> 946</span>
<span class="normal"> 947</span>
<span class="normal"> 948</span>
<span class="normal"> 949</span>
<span class="normal"> 950</span>
<span class="normal"> 951</span>
<span class="normal"> 952</span>
<span class="normal"> 953</span>
<span class="normal"> 954</span>
<span class="normal"> 955</span>
<span class="normal"> 956</span>
<span class="normal"> 957</span>
<span class="normal"> 958</span>
<span class="normal"> 959</span>
<span class="normal"> 960</span>
<span class="normal"> 961</span>
<span class="normal"> 962</span>
<span class="normal"> 963</span>
<span class="normal"> 964</span>
<span class="normal"> 965</span>
<span class="normal"> 966</span>
<span class="normal"> 967</span>
<span class="normal"> 968</span>
<span class="normal"> 969</span>
<span class="normal"> 970</span>
<span class="normal"> 971</span>
<span class="normal"> 972</span>
<span class="normal"> 973</span>
<span class="normal"> 974</span>
<span class="normal"> 975</span>
<span class="normal"> 976</span>
<span class="normal"> 977</span>
<span class="normal"> 978</span>
<span class="normal"> 979</span>
<span class="normal"> 980</span>
<span class="normal"> 981</span>
<span class="normal"> 982</span>
<span class="normal"> 983</span>
<span class="normal"> 984</span>
<span class="normal"> 985</span>
<span class="normal"> 986</span>
<span class="normal"> 987</span>
<span class="normal"> 988</span>
<span class="normal"> 989</span>
<span class="normal"> 990</span>
<span class="normal"> 991</span>
<span class="normal"> 992</span>
<span class="normal"> 993</span>
<span class="normal"> 994</span>
<span class="normal"> 995</span>
<span class="normal"> 996</span>
<span class="normal"> 997</span>
<span class="normal"> 998</span>
<span class="normal"> 999</span>
<span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span>
<span class="normal">1008</span>
<span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span>
<span class="normal">1017</span>
<span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span>
<span class="normal">1028</span>
<span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span>
<span class="normal">1041</span>
<span class="normal">1042</span>
<span class="normal">1043</span>
<span class="normal">1044</span>
<span class="normal">1045</span>
<span class="normal">1046</span>
<span class="normal">1047</span>
<span class="normal">1048</span>
<span class="normal">1049</span>
<span class="normal">1050</span>
<span class="normal">1051</span>
<span class="normal">1052</span>
<span class="normal">1053</span>
<span class="normal">1054</span>
<span class="normal">1055</span>
<span class="normal">1056</span>
<span class="normal">1057</span>
<span class="normal">1058</span>
<span class="normal">1059</span>
<span class="normal">1060</span>
<span class="normal">1061</span>
<span class="normal">1062</span>
<span class="normal">1063</span>
<span class="normal">1064</span>
<span class="normal">1065</span>
<span class="normal">1066</span>
<span class="normal">1067</span>
<span class="normal">1068</span>
<span class="normal">1069</span>
<span class="normal">1070</span>
<span class="normal">1071</span>
<span class="normal">1072</span>
<span class="normal">1073</span>
<span class="normal">1074</span>
<span class="normal">1075</span>
<span class="normal">1076</span>
<span class="normal">1077</span>
<span class="normal">1078</span>
<span class="normal">1079</span>
<span class="normal">1080</span>
<span class="normal">1081</span>
<span class="normal">1082</span>
<span class="normal">1083</span>
<span class="normal">1084</span>
<span class="normal">1085</span>
<span class="normal">1086</span>
<span class="normal">1087</span>
<span class="normal">1088</span>
<span class="normal">1089</span>
<span class="normal">1090</span>
<span class="normal">1091</span>
<span class="normal">1092</span>
<span class="normal">1093</span>
<span class="normal">1094</span>
<span class="normal">1095</span>
<span class="normal">1096</span>
<span class="normal">1097</span>
<span class="normal">1098</span>
<span class="normal">1099</span>
<span class="normal">1100</span>
<span class="normal">1101</span>
<span class="normal">1102</span>
<span class="normal">1103</span>
<span class="normal">1104</span>
<span class="normal">1105</span>
<span class="normal">1106</span>
<span class="normal">1107</span>
<span class="normal">1108</span>
<span class="normal">1109</span>
<span class="normal">1110</span>
<span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span>
<span class="normal">1137</span>
<span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span>
<span class="normal">1145</span>
<span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span>
<span class="normal">1171</span>
<span class="normal">1172</span>
<span class="normal">1173</span>
<span class="normal">1174</span>
<span class="normal">1175</span>
<span class="normal">1176</span>
<span class="normal">1177</span>
<span class="normal">1178</span>
<span class="normal">1179</span>
<span class="normal">1180</span>
<span class="normal">1181</span>
<span class="normal">1182</span>
<span class="normal">1183</span>
<span class="normal">1184</span>
<span class="normal">1185</span>
<span class="normal">1186</span>
<span class="normal">1187</span>
<span class="normal">1188</span>
<span class="normal">1189</span>
<span class="normal">1190</span>
<span class="normal">1191</span>
<span class="normal">1192</span>
<span class="normal">1193</span>
<span class="normal">1194</span>
<span class="normal">1195</span>
<span class="normal">1196</span>
<span class="normal">1197</span>
<span class="normal">1198</span>
<span class="normal">1199</span>
<span class="normal">1200</span>
<span class="normal">1201</span>
<span class="normal">1202</span>
<span class="normal">1203</span>
<span class="normal">1204</span>
<span class="normal">1205</span>
<span class="normal">1206</span>
<span class="normal">1207</span>
<span class="normal">1208</span>
<span class="normal">1209</span>
<span class="normal">1210</span>
<span class="normal">1211</span>
<span class="normal">1212</span>
<span class="normal">1213</span>
<span class="normal">1214</span>
<span class="normal">1215</span>
<span class="normal">1216</span>
<span class="normal">1217</span>
<span class="normal">1218</span>
<span class="normal">1219</span>
<span class="normal">1220</span>
<span class="normal">1221</span>
<span class="normal">1222</span>
<span class="normal">1223</span>
<span class="normal">1224</span>
<span class="normal">1225</span>
<span class="normal">1226</span>
<span class="normal">1227</span>
<span class="normal">1228</span>
<span class="normal">1229</span>
<span class="normal">1230</span>
<span class="normal">1231</span>
<span class="normal">1232</span>
<span class="normal">1233</span>
<span class="normal">1234</span>
<span class="normal">1235</span>
<span class="normal">1236</span>
<span class="normal">1237</span>
<span class="normal">1238</span>
<span class="normal">1239</span>
<span class="normal">1240</span>
<span class="normal">1241</span>
<span class="normal">1242</span>
<span class="normal">1243</span>
<span class="normal">1244</span>
<span class="normal">1245</span>
<span class="normal">1246</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Wdg_HighLvlController_Raman</span><span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A higher level controller ruling over the motion controller and raman spectroscopy controller.</span>

<span class="sd">    Houses the:</span>
<span class="sd">        1. Plot (auto-update)</span>
<span class="sd">        2. Mapping functionalities</span>
<span class="sd">        3. Raman spectroscopy save functions</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">sig_set_autosaver</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">MeaRMap_Unit</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>   <span class="c1"># Signal to set the autosaver parameters</span>
    <span class="n">sig_start_autosaver</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span>

    <span class="n">sig_stop_measurement</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">()</span> <span class="c1"># Signal to trigger measurement collection</span>
    <span class="n">sig_run_scan_discrete</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>
    <span class="n">sig_run_scan_continuous</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span><span class="n">AcquisitionParams</span><span class="p">,</span> <span class="nb">list</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">parent</span><span class="p">,</span>
                 <span class="n">motion_controller</span><span class="p">:</span><span class="n">Wdg_MotionController</span><span class="p">,</span>
                 <span class="n">stageHub</span><span class="p">:</span><span class="n">DataStreamer_StageCam</span><span class="p">,</span>
                 <span class="n">raman_controller</span><span class="p">:</span><span class="n">Wdg_SpectrometerController</span><span class="p">,</span>
                 <span class="n">ramanHub</span><span class="p">:</span><span class="n">DataStreamer_Raman</span><span class="p">,</span>
                 <span class="n">dataHub_map</span><span class="p">:</span><span class="n">Wdg_DataHub_Mapping</span><span class="p">,</span>
                 <span class="n">dataHub_img</span><span class="p">:</span><span class="n">Wdg_DataHub_Image</span><span class="p">,</span>
                 <span class="n">dataHub_imgcal</span><span class="p">:</span><span class="n">Wdg_DataHub_ImgCal</span><span class="p">,</span>
                 <span class="n">coorHub</span><span class="p">:</span><span class="n">List_MeaCoor_Hub</span><span class="p">,</span>
                 <span class="n">wdg_coorGen</span><span class="p">:</span><span class="n">Wdg_Hilvl_CoorGenerator</span><span class="p">,</span>
                 <span class="n">processor</span><span class="p">:</span><span class="n">mpp</span><span class="o">.</span><span class="n">Pool</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialises the higher level controller, which needs access to most (if not all)</span>
<span class="sd">        other modules used in the app</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (qw.QWidget): The parent widget</span>
<span class="sd">            motion_controller (Frm_MotionController): The stage and video controller for motion controls</span>
<span class="sd">            stageHub (stage_measurement_hub): The stage measurement hub for coordinate retrievals</span>
<span class="sd">            raman_controller (Frm_RamanSpectrometerController): The spectrometer controllers</span>
<span class="sd">            ramanHub (RamanMeasurementHub): The Raman measurement hub (NOT the DataHub!) for spectra retrievals</span>
<span class="sd">            dataHub_map (Frm_DataHub_Mapping): The mapping data hub</span>
<span class="sd">            dataHub_img (Frm_DataHub_Image): The image data hub</span>
<span class="sd">            dataHub_imgcal (Frm_DataHub_ImgCal): The image calibration data hub</span>
<span class="sd">            coorHub (MappingCoordinatesHub): The mapping coordinates hub</span>
<span class="sd">            wdg_coorGen (Wdg_Hilvl_CoorGenerator): The coordinate generator GUI</span>
<span class="sd">            processor (mpp.Pool): The multiprocessing pool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">processor</span> <span class="o">=</span> <span class="n">processor</span>

    <span class="c1"># &gt;&gt;&gt; Measurement hubs setup &lt;&lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_stageHub</span> <span class="o">=</span> <span class="n">stageHub</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_ramanHub</span> <span class="o">=</span> <span class="n">ramanHub</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span> <span class="o">=</span> <span class="n">dataHub_map</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_img</span> <span class="o">=</span> <span class="n">dataHub_img</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_imgcal</span> <span class="o">=</span> <span class="n">dataHub_imgcal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_coorHub</span> <span class="o">=</span> <span class="n">coorHub</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_wdg_coorGen</span> <span class="o">=</span> <span class="n">wdg_coorGen</span>

    <span class="c1"># &gt;&gt;&gt; Controller initialisation &lt;&lt;&lt;</span>
        <span class="c1"># To gain access to the other 2 controllers and data save manager</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span> <span class="o">=</span> <span class="n">motion_controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span> <span class="o">=</span> <span class="n">raman_controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save_manager_dot</span> <span class="o">=</span> <span class="n">MeaRaman_Handler</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_mappingHub_Handler</span> <span class="o">=</span> <span class="n">MeaRMap_Handler</span><span class="p">()</span>

    <span class="c1"># &gt;&gt;&gt; Main widget/layout setup &lt;&lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span> <span class="o">=</span> <span class="n">Hilvl_Raman_Design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_main_layout</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="p">)</span>
        <span class="n">wdg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span>

    <span class="c1"># &gt;&gt;&gt; Frame setup: top layout &lt;&lt;&lt;</span>
        <span class="c1"># Status bar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QStatusBar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Initialising controls&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="p">)</span>

    <span class="c1"># &gt;&gt;&gt; Frame setup: Notebook (heatmap and mapping controls) &lt;&lt;&lt;</span>
        <span class="c1"># Setup: Heatmap plotter</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mdl_plot</span> <span class="o">=</span> <span class="n">Wdg_MappingMeasurement_Plotter</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span><span class="o">.</span><span class="n">get_MappingHub</span><span class="p">())</span>
        <span class="n">wdg</span><span class="o">.</span><span class="n">lyt_heatmap_holder</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mdl_plot</span><span class="p">)</span>

        <span class="c1"># Setup: Mapping controls</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_frm_coorHub_treeview</span> <span class="o">=</span> <span class="n">Wdg_Treeview_MappingCoordinates</span><span class="p">(</span>
            <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span><span class="n">mappingCoorHub</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_coorHub</span><span class="p">)</span>
        <span class="n">wdg</span><span class="o">.</span><span class="n">lyt_coorHub_holder</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frm_coorHub_treeview</span><span class="p">)</span>

    <span class="c1"># &gt;&gt;&gt; Mapping widgets and parameters setups &lt;&lt;&lt;</span>
        <span class="c1"># Parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_flg_meaCancelled</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># Flag to indicate if the measurement was cancelled</span>

        <span class="c1"># &gt;&gt; Mapping options widgets setup &lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_discrete</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">btn_discrete</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_discrete</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">MappingMethods</span><span class="o">.</span><span class="n">DISCRETE</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_continuous</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">btn_continuous</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_continuous</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">MappingMethods</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">btn_stop</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sig_stop_measurement</span><span class="o">.</span><span class="n">emit</span><span class="p">())</span>

    <span class="c1"># &gt;&gt;&gt; Mapping scrambler options setup &lt;&lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rb_snake</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_snake</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rb_raster</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_raster</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rb_xdir</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_xdir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_rb_ydir</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_ydir</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_chk_randomise</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">chk_randomise</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_chk_skipover</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">chk_skipover</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_spin_skipover</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">spin_skipover</span>

    <span class="c1"># &gt;&gt;&gt; Overlay heatmap plotter setup &lt;&lt;&lt;</span>
        <span class="c1"># Heatmap plotter widgets setup</span>
        <span class="c1"># self._frm_heatmapOverlay = Frm_HeatmapOverlay(</span>
        <span class="c1">#     master=frm_mappingoverlay,</span>
        <span class="c1">#     processor=self.processor,</span>
        <span class="c1">#     mappingHub=self._dataHub_map.get_MappingHub(),</span>
        <span class="c1">#     imghub_getter=self._dataHub_img.get_ImageMeasurement_Hub,</span>
        <span class="c1">#     dataHub_imgcal=self._dataHub_imgcal,</span>
        <span class="c1">#     figsize_pxl=AppPlotEnum.IMGCAL_IMG_SIZE.value</span>
        <span class="c1"># )</span>

        <span class="c1"># # Pack the widgets</span>
        <span class="c1"># self._frm_heatmapOverlay.grid(row=0, column=0)</span>

    <span class="c1"># &gt;&gt;&gt; Workers and connections setup &lt;&lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_init_workers_connections</span><span class="p">()</span>

    <span class="c1"># &gt;&gt;&gt; Controller widgets setup &lt;&lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Ready&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialises the controller, loading the last mapping coordinates from the temporary folder.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Ensure motion controller workers are initialized before connecting</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="p">,</span> <span class="s1">&#39;_init_workers&#39;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">_init_workers</span><span class="p">()</span>

        <span class="c1"># Re-initialize worker connections now that all workers are ready</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_reinit_worker_connections</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_reinit_worker_connections</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Re-initializes the worker connections after all workers are ready.</span>
<span class="sd">        This is needed when running from the main app where worker initialization </span>
<span class="sd">        happens after the high-level controller is created.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Create worker manager if it doesn&#39;t exist yet</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s1">&#39;_worker_manager&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_manager</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">motion_goto_worker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">get_goto_worker</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_worker_manager</span> <span class="o">=</span> <span class="n">WorkerPipelineManager</span><span class="p">(</span>
                    <span class="n">hilvlacq_worker</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="p">,</span>
                    <span class="n">raman_worker</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">get_mea_worker</span><span class="p">(),</span>
                    <span class="n">motion_controller</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="p">,</span>
                    <span class="n">motion_goto_worker</span><span class="o">=</span><span class="n">motion_goto_worker</span>
                <span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_worker_manager</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Could not initialize worker connections: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">return</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Disconnect old connections first</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">_sig_gotocor</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">_sig_setvelrel</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
            <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                <span class="k">pass</span>  <span class="c1"># Connections might not exist yet</span>

            <span class="c1"># Re-establish connections with proper thread handling</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">_sig_gotocor</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">get_goto_worker</span><span class="p">()</span><span class="o">.</span><span class="n">work</span><span class="p">,</span>
                <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ConnectionType</span><span class="o">.</span><span class="n">QueuedConnection</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">_sig_setvelrel</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">set_vel_relative</span><span class="p">,</span>
                <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ConnectionType</span><span class="o">.</span><span class="n">QueuedConnection</span>
            <span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">terminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Terminates the controller, saving the mapping coordinates to the temporary folder.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_init_workers_connections</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialises the workers and their connections</span>
<span class="sd">        &quot;&quot;&quot;</span>
    <span class="c1"># &gt;&gt;&gt; Worker setups &lt;&lt;&lt;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span> <span class="o">=</span> <span class="n">Hilvl_MeasurementAcq_Worker</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span><span class="o">.</span><span class="n">get_MappingHub</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">get_syncer_acquisition</span><span class="p">(),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="p">)</span>

        <span class="c1"># Try to get the goto worker, but be defensive about timing</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">motion_goto_worker</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">get_goto_worker</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="c1"># Workers not initialized yet, will be connected later in initialise()</span>
            <span class="n">motion_goto_worker</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="n">motion_goto_worker</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_worker_manager</span> <span class="o">=</span> <span class="n">WorkerPipelineManager</span><span class="p">(</span>
                <span class="n">hilvlacq_worker</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="p">,</span>
                <span class="n">raman_worker</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">get_mea_worker</span><span class="p">(),</span>
                <span class="n">motion_controller</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="p">,</span>
                <span class="n">motion_goto_worker</span><span class="o">=</span><span class="n">motion_goto_worker</span>
            <span class="p">)</span>
            <span class="c1"># Set the parent to prevent garbage collection</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_worker_manager</span><span class="o">.</span><span class="n">setParent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span> <span class="o">=</span> <span class="n">Hilvl_MeasurementStorer_Worker</span><span class="p">(</span>
            <span class="n">datastreamer_stage</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_stageHub</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="c1"># &gt;&gt;&gt; Mapping acquisition worker setup &lt;&lt;&lt;</span>
        <span class="c1"># Connection: Mapping acquisition signals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_stop_measurement</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_event_isacquiring</span><span class="o">.</span><span class="n">clear</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_run_scan_discrete</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">run_scan_discrete</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_run_scan_continuous</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">run_scan_continuous</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">sig_error_during_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_error_during_mapping</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">sig_mea_done_msg</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">relay_finished_message</span><span class="p">)</span>

        <span class="c1"># Connection: Thread and worker management</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_thread_hilvlacq</span> <span class="o">=</span> <span class="n">QThread</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">moveToThread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_hilvlacq</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroyed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_hilvlacq</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroyed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_hilvlacq</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroyed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_thread_hilvlacq</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">QThread</span><span class="o">.</span><span class="n">Priority</span><span class="o">.</span><span class="n">HighestPriority</span><span class="p">)</span>

        <span class="c1"># Message update handling</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">sig_progress_update_str</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_message_update</span><span class="p">)</span>

    <span class="c1"># &gt;&gt;&gt; Autosaver worker setup &lt;&lt;&lt;</span>
        <span class="c1"># Signal to stop the autosaver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">sig_mea_done</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">stop_autosaver</span><span class="p">)</span>

        <span class="c1"># Signal to start and set the autosaver</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_start_autosaver</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">start_autosaver</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_set_autosaver</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">set_save_params</span><span class="p">)</span>

        <span class="c1"># Finish signal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">sig_error</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_error_during_mapping</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">sig_finished_relay_msg</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">handle_mapping_completion</span><span class="p">)</span>

        <span class="c1"># Signal to delete the thread and worker when finished</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_thread_autoMeaStorer</span> <span class="o">=</span> <span class="n">QThread</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">moveToThread</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_autoMeaStorer</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroyed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_autoMeaStorer</span><span class="o">.</span><span class="n">quit</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroyed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_autoMeaStorer</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">destroyed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_thread_autoMeaStorer</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_thread_autoMeaStorer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">QThread</span><span class="o">.</span><span class="n">Priority</span><span class="o">.</span><span class="n">HighestPriority</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_init_autoMeaStorer_worker</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mapping_unit</span><span class="p">:</span><span class="n">MeaRMap_Unit</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">:</span>
        <span class="n">q_storage</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_set_autosaver</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">mapping_unit</span><span class="p">,</span> <span class="n">q_storage</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sig_start_autosaver</span><span class="o">.</span><span class="n">emit</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">q_storage</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">handle_message_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles message updates from workers</span>

<span class="sd">        Args:</span>
<span class="sd">            msg (str): The message to display</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_scan_options</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Retrieves the scan options from the GUI widgets</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: (scan_method, scan_direction)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rb_raster</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="n">scan_method</span> <span class="o">=</span> <span class="n">Enum_ScanMthd</span><span class="o">.</span><span class="n">RASTER</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rb_snake</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="n">scan_method</span> <span class="o">=</span> <span class="n">Enum_ScanMthd</span><span class="o">.</span><span class="n">SNAKE</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid scan method selected&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rb_xdir</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="n">scan_direction</span> <span class="o">=</span> <span class="n">Enum_ScanDir</span><span class="o">.</span><span class="n">XDIR</span><span class="o">.</span><span class="n">value</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rb_ydir</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="n">scan_direction</span> <span class="o">=</span> <span class="n">Enum_ScanDir</span><span class="o">.</span><span class="n">YDIR</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid scan direction selected&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">scan_method</span><span class="p">,</span> <span class="n">scan_direction</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_generate_metadata_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">map_method</span><span class="p">:</span><span class="n">MappingMethods</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Generates extra metadata for the mapping measurement</span>

<span class="sd">        Returns:</span>
<span class="sd">            dict: The extra metadata</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">map_method</span> <span class="ow">in</span> <span class="n">MappingMethods</span><span class="p">,</span> <span class="s2">&quot;Invalid mapping method&quot;</span>
        <span class="n">controller_ids</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">get_controller_identifiers</span><span class="p">()</span>

        <span class="n">method</span><span class="p">,</span><span class="nb">dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_scan_options</span><span class="p">()</span>

        <span class="n">extra_metadata</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;camera_id&#39;</span><span class="p">:</span> <span class="n">controller_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
            <span class="s1">&#39;xystage_id&#39;</span><span class="p">:</span> <span class="n">controller_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
            <span class="s1">&#39;zstage_id&#39;</span><span class="p">:</span> <span class="n">controller_ids</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
            <span class="s1">&#39;mapping_method&#39;</span><span class="p">:</span> <span class="n">map_method</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="s1">&#39;scan_method&#39;</span><span class="p">:</span> <span class="n">method</span><span class="p">,</span>
            <span class="s1">&#39;scan_direction&#39;</span><span class="p">:</span> <span class="nb">dir</span><span class="p">,</span>
            <span class="s1">&#39;scramble_random&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">chk_randomise</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
            <span class="s1">&#39;scramble_skipover&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">chk_skipover</span><span class="o">.</span><span class="n">isChecked</span><span class="p">(),</span>
            <span class="s1">&#39;scramble_skipover_value&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">spin_skipover</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">extra_metadata</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_map_check_coor_min_max</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mapping_coor</span><span class="p">:</span><span class="nb">list</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Checks if the coordinates are within the minimum and maximum limits</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_coor (list): The list of coordinates to be checked, should be in the format of [(x1,y1,z1),(x2,y2,z2),...]</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: True if the coordinates are within the limits</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span> <span class="c1">#TODO: Implement coordinate checking (that every coordinate is within the stage limits)</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_convertCoor_byScanOptions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mapping_coor</span><span class="p">:</span><span class="nb">list</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">precision</span><span class="p">:</span><span class="nb">int</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">ends_only</span><span class="p">:</span><span class="nb">bool</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="o">|</span><span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Converts coordinates to raster scan format.</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_coor (list): The list of coordinates to be checked, in the format [(x1, y1, z1), (x2, y2, z2), ...].</span>
<span class="sd">            precision (int): The number of decimal places to round the coordinates to. Defaults to 4.</span>
<span class="sd">            ends_only (bool): If True, only the ends of the coordinates for every line will be returned. Defaults to False.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: The coordinates reordered for the raster scan, or None if the input is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">mthd</span><span class="p">,</span><span class="nb">dir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_scan_options</span><span class="p">()</span>

        <span class="n">flg_snake</span> <span class="o">=</span> <span class="n">mthd</span> <span class="o">==</span> <span class="n">Enum_ScanMthd</span><span class="o">.</span><span class="n">SNAKE</span><span class="o">.</span><span class="n">value</span>
        <span class="n">dir_scan</span> <span class="o">=</span> <span class="nb">dir</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mapping_coor</span><span class="p">,</span> <span class="nb">list</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">mapping_coor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;No coordinates to convert&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="n">mapping_coor</span> <span class="o">=</span> <span class="n">mapping_coor</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>  <span class="c1"># Create a copy to avoid modifying the original list</span>

        <span class="c1"># Sort the coordinates based on the scan direction</span>
        <span class="n">group_coor</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">if</span> <span class="n">dir_scan</span> <span class="o">==</span> <span class="n">Enum_ScanDir</span><span class="o">.</span><span class="n">YDIR</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">mapping_coor</span><span class="p">:</span>
                <span class="n">x</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">precision</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">x</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">:</span>
                    <span class="n">group_coor</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">group_coor</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coor</span><span class="p">)</span>
            <span class="n">sorted_x</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">group_coor</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">flg_snake</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sorted_x</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]:</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">x</span><span class="p">]</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">ends_only</span><span class="p">:</span> 
                <span class="n">final_coor</span> <span class="o">=</span>    <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">coor</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sorted_x</span> <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">x</span><span class="p">][:</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> \
                                <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">coor</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sorted_x</span> <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">:]]</span>
                <span class="n">final_coor</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">final_coor</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># Sort by x-coordinate</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">final_coor</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">coor</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sorted_x</span> <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">x</span><span class="p">]]</span>
        <span class="k">elif</span> <span class="n">dir_scan</span> <span class="o">==</span> <span class="n">Enum_ScanDir</span><span class="o">.</span><span class="n">XDIR</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">mapping_coor</span><span class="p">:</span>
                <span class="n">y</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">coor</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">precision</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">y</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">:</span>
                    <span class="n">group_coor</span><span class="p">[</span><span class="n">y</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="n">group_coor</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">coor</span><span class="p">)</span>
            <span class="n">sorted_y</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">group_coor</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">flg_snake</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">sorted_y</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">]:</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">ends_only</span><span class="p">:</span>
                <span class="n">final_coor</span> <span class="o">=</span>    <span class="p">[(</span><span class="n">coor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">sorted_y</span> <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">y</span><span class="p">][:</span><span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> \
                                <span class="p">[(</span><span class="n">coor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">sorted_y</span> <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="o">-</span><span class="mi">1</span><span class="p">:]]</span>
                <span class="n">final_coor</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">final_coor</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">c</span><span class="p">:</span> <span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>  <span class="c1"># Sort by y-coordinate</span>
            <span class="k">else</span><span class="p">:</span> <span class="n">final_coor</span> <span class="o">=</span> <span class="p">[(</span><span class="n">coor</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="n">coor</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">sorted_y</span> <span class="k">for</span> <span class="n">coor</span> <span class="ow">in</span> <span class="n">group_coor</span><span class="p">[</span><span class="n">y</span><span class="p">]]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid scan direction. Use &#39;x-direction&#39; or &#39;y-direction&#39;.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">final_coor</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_calculate_total_XYdistance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">mapping_coor</span><span class="p">:</span><span class="nb">list</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Calculates the total distance to be travelled for the mapping measurement </span>
<span class="sd">        (only for the XY plane).</span>

<span class="sd">        Args:</span>
<span class="sd">            mapping_coor (list): The list of coordinates to be checked, in the format [(x1, y1, z1), (x2, y2, z2), ...].</span>

<span class="sd">        Returns:</span>
<span class="sd">            float: The total distance to be travelled</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">total_distance</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">mapping_coor</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">total_distance</span> <span class="o">+=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">((</span><span class="n">mapping_coor</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">mapping_coor</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span>
                                        <span class="p">(</span><span class="n">mapping_coor</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">mapping_coor</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">total_distance</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_initialise_mapping_parameters</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mappingHub</span><span class="p">:</span><span class="n">MeaRMap_Hub</span><span class="p">,</span> <span class="n">mapping_coordinates_mm</span><span class="p">:</span><span class="n">MeaCoor_mm</span><span class="p">,</span>
                                       <span class="n">mappingUnit_name</span><span class="p">:</span><span class="nb">str</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">,</span><span class="nb">float</span><span class="p">,</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs the initial checks prior to the mapping measurement:</span>
<span class="sd">            1. Running status check</span>
<span class="sd">            2. Coordinates check</span>
<span class="sd">            3.1. Mapping speed calculation</span>
<span class="sd">            3.2. Mapping speed modifier check</span>
<span class="sd">            4. Mapping ID request and check</span>

<span class="sd">        Args:</span>
<span class="sd">            mappingHub (MappingMeasurement_Hub): The mapping hub to store the mapping data</span>
<span class="sd">            mapping_coordinates_mm (MappingCoordinates): The mapping coordinate list.</span>
<span class="sd">            mappingUnit_name (str|None): The mapping ID. If None, the user will be prompted to enter it. Defaults to None.</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: mapping coordinates, mapping speed (mm/sec), mapping ID</span>

<span class="sd">        NOTE:</span>
<span class="sd">            Assumes that the mapping coordinate will be followed as a pathway</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Running status check</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">get_running_status</span><span class="p">(),</span> <span class="s2">&quot;Please stop/finish the current measurement before starting&quot;</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mapping_coordinates_mm</span><span class="p">,</span> <span class="n">MeaCoor_mm</span><span class="p">),</span> <span class="s2">&quot;Please generate the mapping coordinates first&quot;</span>

        <span class="n">list_coor_mm</span> <span class="o">=</span> <span class="n">mapping_coordinates_mm</span><span class="o">.</span><span class="n">mapping_coordinates</span>

        <span class="c1"># Check that the controller can reach the coordinates</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">_map_check_coor_min_max</span><span class="p">(</span><span class="n">list_coor_mm</span><span class="p">),</span> <span class="s2">&quot;The coordinates are out of range&quot;</span>

        <span class="c1"># Calculates the required speed</span>
        <span class="n">integration_time_ms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">get_integration_time_ms</span><span class="p">()</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">integration_time_ms</span><span class="p">,(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">)),</span> <span class="s2">&quot;Please enter a valid integration time&quot;</span>

        <span class="n">total_scan_time_sec</span> <span class="o">=</span> <span class="n">integration_time_ms</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_coor_mm</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>
        <span class="n">total_distance_mm</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_calculate_total_XYdistance</span><span class="p">(</span><span class="n">list_coor_mm</span><span class="p">)</span>
        <span class="n">mapping_speed_mmPerSec</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">total_distance_mm</span><span class="o">/</span><span class="n">total_scan_time_sec</span><span class="p">)</span>

        <span class="c1"># Mapping speed modifier check</span>
        <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">AppRamanEnum</span><span class="o">.</span><span class="n">CONTINUOUS_SPEED_MODIFIER</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span><span class="nb">float</span><span class="p">))</span> <span class="ow">and</span> <span class="n">AppRamanEnum</span><span class="o">.</span><span class="n">CONTINUOUS_SPEED_MODIFIER</span><span class="o">.</span><span class="n">value</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> \
            <span class="sa">f</span><span class="s2">&quot;The speed modifier in the config file must be a positive number. Got </span><span class="si">{</span><span class="n">AppRamanEnum</span><span class="o">.</span><span class="n">CONTINUOUS_SPEED_MODIFIER</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span>

        <span class="c1"># Mapping ID request and check</span>
        <span class="n">list_mappingUnit_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">mappingHub</span><span class="o">.</span><span class="n">get_dict_nameToID</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">mappingUnit_name</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">mapping_coordinates_mm</span><span class="o">.</span><span class="n">mappingUnit_name</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
            <span class="n">mappingUnit_name</span> <span class="o">=</span> <span class="n">mapping_coordinates_mm</span><span class="o">.</span><span class="n">mappingUnit_name</span>

        <span class="k">while</span> <span class="n">mappingUnit_name</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">mappingUnit_name</span> <span class="o">=</span> <span class="n">messagebox_request_input</span><span class="p">(</span>
                <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
                <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Mapping ID&#39;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Enter the ID for the mapping measurement:&#39;</span><span class="p">,</span>
                <span class="n">default</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
                <span class="n">validator</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span><span class="o">.</span><span class="n">get_MappingHub</span><span class="p">()</span><span class="o">.</span><span class="n">validate_new_unit_name</span><span class="p">,</span>
                <span class="n">invalid_msg</span><span class="o">=</span><span class="s2">&quot;Invalid &#39;mappingUnit name&#39;. The name cannot be empty or already exist. Please try again.&quot;</span><span class="p">,</span>
                <span class="n">loop_until_valid</span><span class="o">=</span><span class="kc">True</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">list_coor_mm</span><span class="p">,</span> <span class="n">mapping_speed_mmPerSec</span><span class="p">,</span> <span class="n">mappingUnit_name</span><span class="p">)</span>


    <span class="k">def</span><span class="w"> </span><span class="nf">disable_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Disables the mapping widgets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">widgets</span> <span class="o">=</span> <span class="n">get_all_widgets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">tab_mappingoptions</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QSpinBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">)):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">enable_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Enables the mapping widgets</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">widgets</span> <span class="o">=</span> <span class="n">get_all_widgets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">tab_mappingoptions</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QSpinBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">)):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">abort_mapping_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Aborts the mapping run and resets the controller status</span>

<span class="sd">        Args:</span>
<span class="sd">            btn (tk.Button): The button to be reset</span>
<span class="sd">            text (str): The text to be reset</span>
<span class="sd">            command (Callable): The command to be reset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">flg_isrunning_mapping</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">reset_mapping_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resets the mapping widgets after a mapping run</span>

<span class="sd">        Args:</span>
<span class="sd">            btn (tk.Button): The button to be reset</span>
<span class="sd">            text (str): The text to be reset</span>
<span class="sd">            command (Callable): The command to be reset</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Ready&#39;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_scramble_mapping_coordinates</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">list_mappingCoor</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span><span class="n">MappingMethods</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Scrambles the mapping coordinates based on the selected mode.</span>

<span class="sd">        Args:</span>
<span class="sd">            list_mappingCoor (list): The list of coordinates to be scrambled</span>
<span class="sd">            mode (str): The mode to scramble the coordinates. Can be &#39;discrete&#39; or &#39;continuous&#39;.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: The scrambled coordinates</span>

<span class="sd">        Raises:</span>
<span class="sd">            ValueError: If the jump value is not a positive integer</span>

<span class="sd">        NOTE:</span>
<span class="sd">            The &#39;discrete&#39; mode will scramble the coordinates randomly, while the &#39;continuous&#39; mode will always group the</span>
<span class="sd">            start and end coordinates of the lines together.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">assert</span> <span class="n">mode</span> <span class="ow">in</span> <span class="n">MappingMethods</span><span class="p">,</span> <span class="s2">&quot;Invalid mapping method. Check the MappingMethods enum.&quot;</span>
        <span class="n">list_init</span> <span class="o">=</span> <span class="n">list_mappingCoor</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">MappingMethods</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">:</span>
            <span class="c1"># Convert the coordinates to a list of two coordinates (assuming that the coordinates are in pairs)</span>
            <span class="n">list_temp</span> <span class="o">=</span> <span class="n">list_init</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">list_init</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_temp</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">list_init</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">list_temp</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">list_temp</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)])</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_temp</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span>
                    <span class="n">list_init</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">list_temp</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">),])</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">chk_randomise</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span> <span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">list_init</span><span class="p">)</span>

        <span class="k">def</span><span class="w"> </span><span class="nf">list_remap_jump</span><span class="p">(</span><span class="n">data_list</span><span class="p">,</span> <span class="n">skip_interval</span><span class="p">):</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;Remaps the list by skipping elements based on the skip_interval&quot;&quot;&quot;</span>
            <span class="c1"># Determine the actual &#39;step&#39; size for slicing</span>
            <span class="c1"># A skip_interval of 0 means a step of 1 (every element)</span>
            <span class="c1"># A skip_interval of 1 means a step of 2 (every other element)</span>
            <span class="c1"># A skip_interval of N means a step of N+1 (every N+1th element)</span>
            <span class="n">step</span> <span class="o">=</span> <span class="n">skip_interval</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">num_passes</span> <span class="o">=</span> <span class="n">step</span>
            <span class="n">mapped_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_list</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">offset</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_passes</span><span class="p">):</span>
                <span class="n">current_index</span> <span class="o">=</span> <span class="n">offset</span>
                <span class="k">while</span> <span class="n">current_index</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                    <span class="n">mapped_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_list</span><span class="p">[</span><span class="n">current_index</span><span class="p">])</span>
                    <span class="n">current_index</span> <span class="o">+=</span> <span class="n">step</span>
            <span class="k">return</span> <span class="n">mapped_list</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">chk_skipover</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="n">skip_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_spin_skipover</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">skip_val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">skip_val</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">skip_val</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Jump value must be a positive integer&quot;</span><span class="p">)</span>

            <span class="n">list_final</span> <span class="o">=</span> <span class="n">list_remap_jump</span><span class="p">(</span><span class="n">list_init</span><span class="p">,</span> <span class="n">skip_val</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">list_final</span> <span class="o">=</span> <span class="n">list_init</span>

        <span class="c1"># Convert the coordinates back to the original format</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">MappingMethods</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">:</span>
            <span class="n">list_temp</span> <span class="o">=</span> <span class="n">list_final</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
            <span class="n">list_final</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_temp</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">list_final</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">list_temp</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">list_final</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">initiate_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span><span class="n">MappingMethods</span><span class="p">,</span>
                         <span class="n">mapping_coordinates</span><span class="p">:</span><span class="n">MeaCoor_mm</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">,):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs multiple mapping based on the information stored in the dictionary</span>

<span class="sd">        Args:</span>
<span class="sd">            method (str): The mapping method to be performed. Can be &#39;discrete&#39; or &#39;continuous&#39;.</span>
<span class="sd">            mapping_coordinates (MappingCoordinates|None): The mapping coordinates to be performed. If None,</span>
<span class="sd">                the selected mapping coordinates from the treeview will be used. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Prepare the list of measurements to be performed</span>
        <span class="k">if</span> <span class="n">mapping_coordinates</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frm_coorHub_treeview</span><span class="o">.</span><span class="n">get_selected_mappingCoor</span><span class="p">(</span><span class="n">flg_message</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">pass</span>
        <span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping_coordinates</span><span class="p">,]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">disable_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">disable_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disable_widgets</span><span class="p">()</span>

        <span class="c1"># Store the last mapping method used</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">MappingMethods</span><span class="p">,</span> <span class="s2">&quot;Invalid mapping method. Check the MappingMethods enum.&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_last_mappingmethod</span> <span class="o">=</span> <span class="n">method</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_perform_mapping</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">handle_error_during_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles errors during the mapping measurement</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span><span class="mi">5000</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QStatusBar { background-color : red; color : white; }&quot;</span><span class="p">)</span>

    <span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">handle_mapping_completion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Handles the completion of a mapping measurement</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">reset_enable_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Mapping measurement complete&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="c1"># Reset to default</span>

        <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_cancelled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Mapping measurement cancelled&#39;</span><span class="p">,</span><span class="s1">&#39;The mapping measurement was cancelled by the user&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">elif</span> <span class="n">msg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_error</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Mapping measurement error&#39;</span><span class="p">,</span><span class="n">msg</span><span class="p">)</span>
            <span class="k">return</span>

        <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_finished</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Mapping measurement complete&#39;</span><span class="p">,</span><span class="s1">&#39;The mapping measurement is complete and added to the data hub&#39;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">msg</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_finished</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_last_mappingmethod</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid mapping completion message&quot;</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_perform_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span><span class="n">MappingMethods</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs discrete mapping based on the mapping coordinates stored in the list</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span><span class="w"> </span><span class="nf">reset</span><span class="p">():</span> <span class="bp">self</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">MappingMethods</span><span class="p">,</span> <span class="s2">&quot;Invalid mapping method. Check the MappingMethods enum.&quot;</span>

        <span class="n">mapping_hub</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span><span class="o">.</span><span class="n">get_MappingHub</span><span class="p">()</span>

        <span class="n">mapCoor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">mapCoor</span><span class="p">,</span> <span class="n">MeaCoor_mm</span><span class="p">):</span> 
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Error&#39;</span><span class="p">,</span><span class="s1">&#39;Invalid mapping coordinates selected&#39;</span><span class="p">)</span>
            <span class="n">reset</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="n">mappingUnit_name</span> <span class="o">=</span> <span class="n">mapCoor</span><span class="o">.</span><span class="n">mappingUnit_name</span>
        <span class="n">mapping_coordinates</span> <span class="o">=</span> <span class="n">mapCoor</span>

        <span class="k">try</span><span class="p">:</span> <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_initialise_mapping_parameters</span><span class="p">(</span><span class="n">mapping_hub</span><span class="p">,</span><span class="n">mapping_coordinates</span><span class="p">,</span><span class="n">mappingUnit_name</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">AssertionError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> 
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Error&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;Failed to initialise mapping parameters for &#39;</span><span class="si">{</span><span class="n">mappingUnit_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">reset</span><span class="p">()</span>
            <span class="k">return</span>

        <span class="n">list_coor</span><span class="p">,</span> <span class="n">mapping_speed_mmPerSec</span><span class="p">,</span> <span class="n">unit_name</span> <span class="o">=</span> <span class="n">result</span>
        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="n">MappingMethods</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">:</span> <span class="n">ends_only</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span> <span class="n">ends_only</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="n">list_coor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convertCoor_byScanOptions</span><span class="p">(</span><span class="n">list_coor</span><span class="p">,</span> <span class="n">ends_only</span><span class="o">=</span><span class="n">ends_only</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">assert</span> <span class="n">list_coor</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">list_coor</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;No coordinates to perform mapping&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_request_Mapping</span><span class="p">(</span><span class="n">mapping_coordinates</span><span class="o">=</span><span class="n">list_coor</span><span class="p">,</span> <span class="n">unit_name</span><span class="o">=</span><span class="n">unit_name</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">mapping_speed_mmPerSec</span><span class="o">=</span><span class="n">mapping_speed_mmPerSec</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Error&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s2">&quot;Failed to perform mapping for &#39;</span><span class="si">{</span><span class="n">mappingUnit_name</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">reset</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flg_meaCancelled</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coorHub</span><span class="o">.</span><span class="n">remove_mappingCoor</span><span class="p">(</span><span class="n">mappingUnit_name</span><span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_request_Mapping</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">mapping_coordinates</span><span class="p">:</span><span class="nb">list</span><span class="p">,</span>
        <span class="n">unit_name</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span>
        <span class="n">method</span><span class="p">:</span><span class="n">MappingMethods</span><span class="p">,</span>
        <span class="n">mapping_speed_mmPerSec</span><span class="p">:</span><span class="nb">float</span><span class="p">,</span>
        <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">MappingMethods</span><span class="p">,</span> <span class="s2">&quot;Invalid mapping method. Check the MappingMethods enum.&quot;</span>
    <span class="c1"># &gt;&gt;&gt; Initialisations &lt;&lt;&lt;</span>
        <span class="c1"># Generate the extra metadata for the mapping measurement</span>
        <span class="n">extra_metadata</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_generate_metadata_dict</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>

        <span class="c1"># Initialise the mapping measurement data class</span>
        <span class="n">mea_unit</span> <span class="o">=</span> <span class="n">MeaRMap_Unit</span><span class="p">(</span><span class="n">unit_name</span><span class="p">,</span> <span class="n">extra_metadata</span><span class="o">=</span><span class="n">extra_metadata</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span><span class="o">.</span><span class="n">append_MappingUnit</span><span class="p">(</span><span class="n">mea_unit</span><span class="p">)</span>

        <span class="c1"># Scramble the mapping coordinates if requested</span>
        <span class="n">mapping_coordinates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_scramble_mapping_coordinates</span><span class="p">(</span><span class="n">mapping_coordinates</span><span class="p">,</span> <span class="n">method</span><span class="p">)</span>

        <span class="c1"># Perform the mapping measurement itself</span>
        <span class="n">q_autosave</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_autoMeaStorer_worker</span><span class="p">(</span><span class="n">mea_unit</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">method</span> <span class="o">==</span> <span class="n">MappingMethods</span><span class="o">.</span><span class="n">DISCRETE</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Requesting discrete mapping...&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sig_run_scan_discrete</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">generate_acquisition_params</span><span class="p">(),</span>
                <span class="n">mapping_coordinates</span><span class="p">,</span>
                <span class="n">q_autosave</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">mapping_speed_rel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">calculate_vel_relative</span><span class="p">(</span><span class="n">vel_xy_mmPerSec</span><span class="o">=</span><span class="n">mapping_speed_mmPerSec</span><span class="p">)</span>
            <span class="n">mapping_speed_rel</span> <span class="o">*=</span> <span class="n">AppRamanEnum</span><span class="o">.</span><span class="n">CONTINUOUS_SPEED_MODIFIER</span><span class="o">.</span><span class="n">value</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sig_run_scan_continuous</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">generate_acquisition_params</span><span class="p">(),</span>
                <span class="n">mapping_coordinates</span><span class="p">,</span>
                <span class="n">mapping_speed_rel</span><span class="p">,</span>
                <span class="n">q_autosave</span><span class="p">,</span>
                <span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">motion_controller</span><span class="p">,</span> <span class="n">stageHub</span><span class="p">,</span> <span class="n">raman_controller</span><span class="p">,</span> <span class="n">ramanHub</span><span class="p">,</span> <span class="n">dataHub_map</span><span class="p">,</span> <span class="n">dataHub_img</span><span class="p">,</span> <span class="n">dataHub_imgcal</span><span class="p">,</span> <span class="n">coorHub</span><span class="p">,</span> <span class="n">wdg_coorGen</span><span class="p">,</span> <span class="n">processor</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialises the higher level controller, which needs access to most (if not all)
other modules used in the app</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parent</code>
            </td>
            <td>
                  <code><span title="iris.utils.general.qw.QWidget">QWidget</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent widget</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>motion_controller</code>
            </td>
            <td>
                  <code><span title="Frm_MotionController">Frm_MotionController</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage and video controller for motion controls</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>stageHub</code>
            </td>
            <td>
                  <code><span title="stage_measurement_hub">stage_measurement_hub</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The stage measurement hub for coordinate retrievals</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>raman_controller</code>
            </td>
            <td>
                  <code><span title="Frm_RamanSpectrometerController">Frm_RamanSpectrometerController</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The spectrometer controllers</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ramanHub</code>
            </td>
            <td>
                  <code><span title="RamanMeasurementHub">RamanMeasurementHub</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The Raman measurement hub (NOT the DataHub!) for spectra retrievals</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataHub_map</code>
            </td>
            <td>
                  <code><span title="Frm_DataHub_Mapping">Frm_DataHub_Mapping</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mapping data hub</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataHub_img</code>
            </td>
            <td>
                  <code><span title="Frm_DataHub_Image">Frm_DataHub_Image</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image data hub</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dataHub_imgcal</code>
            </td>
            <td>
                  <code><span title="Frm_DataHub_ImgCal">Frm_DataHub_ImgCal</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The image calibration data hub</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>coorHub</code>
            </td>
            <td>
                  <code><span title="MappingCoordinatesHub">MappingCoordinatesHub</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mapping coordinates hub</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>wdg_coorGen</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="Wdg_Hilvl_CoorGenerator (iris.gui.hilvl_coorGen.Wdg_Hilvl_CoorGenerator)" href="../hilvl_coorGen/#iris.gui.hilvl_coorGen.Wdg_Hilvl_CoorGenerator">Wdg_Hilvl_CoorGenerator</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The coordinate generator GUI</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>processor</code>
            </td>
            <td>
                  <code><span title="multiprocessing.pool.Pool">Pool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The multiprocessing pool</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">548</span>
<span class="normal">549</span>
<span class="normal">550</span>
<span class="normal">551</span>
<span class="normal">552</span>
<span class="normal">553</span>
<span class="normal">554</span>
<span class="normal">555</span>
<span class="normal">556</span>
<span class="normal">557</span>
<span class="normal">558</span>
<span class="normal">559</span>
<span class="normal">560</span>
<span class="normal">561</span>
<span class="normal">562</span>
<span class="normal">563</span>
<span class="normal">564</span>
<span class="normal">565</span>
<span class="normal">566</span>
<span class="normal">567</span>
<span class="normal">568</span>
<span class="normal">569</span>
<span class="normal">570</span>
<span class="normal">571</span>
<span class="normal">572</span>
<span class="normal">573</span>
<span class="normal">574</span>
<span class="normal">575</span>
<span class="normal">576</span>
<span class="normal">577</span>
<span class="normal">578</span>
<span class="normal">579</span>
<span class="normal">580</span>
<span class="normal">581</span>
<span class="normal">582</span>
<span class="normal">583</span>
<span class="normal">584</span>
<span class="normal">585</span>
<span class="normal">586</span>
<span class="normal">587</span>
<span class="normal">588</span>
<span class="normal">589</span>
<span class="normal">590</span>
<span class="normal">591</span>
<span class="normal">592</span>
<span class="normal">593</span>
<span class="normal">594</span>
<span class="normal">595</span>
<span class="normal">596</span>
<span class="normal">597</span>
<span class="normal">598</span>
<span class="normal">599</span>
<span class="normal">600</span>
<span class="normal">601</span>
<span class="normal">602</span>
<span class="normal">603</span>
<span class="normal">604</span>
<span class="normal">605</span>
<span class="normal">606</span>
<span class="normal">607</span>
<span class="normal">608</span>
<span class="normal">609</span>
<span class="normal">610</span>
<span class="normal">611</span>
<span class="normal">612</span>
<span class="normal">613</span>
<span class="normal">614</span>
<span class="normal">615</span>
<span class="normal">616</span>
<span class="normal">617</span>
<span class="normal">618</span>
<span class="normal">619</span>
<span class="normal">620</span>
<span class="normal">621</span>
<span class="normal">622</span>
<span class="normal">623</span>
<span class="normal">624</span>
<span class="normal">625</span>
<span class="normal">626</span>
<span class="normal">627</span>
<span class="normal">628</span>
<span class="normal">629</span>
<span class="normal">630</span>
<span class="normal">631</span>
<span class="normal">632</span>
<span class="normal">633</span>
<span class="normal">634</span>
<span class="normal">635</span>
<span class="normal">636</span>
<span class="normal">637</span>
<span class="normal">638</span>
<span class="normal">639</span>
<span class="normal">640</span>
<span class="normal">641</span>
<span class="normal">642</span>
<span class="normal">643</span>
<span class="normal">644</span>
<span class="normal">645</span>
<span class="normal">646</span>
<span class="normal">647</span>
<span class="normal">648</span>
<span class="normal">649</span>
<span class="normal">650</span>
<span class="normal">651</span>
<span class="normal">652</span>
<span class="normal">653</span>
<span class="normal">654</span>
<span class="normal">655</span>
<span class="normal">656</span>
<span class="normal">657</span>
<span class="normal">658</span>
<span class="normal">659</span>
<span class="normal">660</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
             <span class="n">parent</span><span class="p">,</span>
             <span class="n">motion_controller</span><span class="p">:</span><span class="n">Wdg_MotionController</span><span class="p">,</span>
             <span class="n">stageHub</span><span class="p">:</span><span class="n">DataStreamer_StageCam</span><span class="p">,</span>
             <span class="n">raman_controller</span><span class="p">:</span><span class="n">Wdg_SpectrometerController</span><span class="p">,</span>
             <span class="n">ramanHub</span><span class="p">:</span><span class="n">DataStreamer_Raman</span><span class="p">,</span>
             <span class="n">dataHub_map</span><span class="p">:</span><span class="n">Wdg_DataHub_Mapping</span><span class="p">,</span>
             <span class="n">dataHub_img</span><span class="p">:</span><span class="n">Wdg_DataHub_Image</span><span class="p">,</span>
             <span class="n">dataHub_imgcal</span><span class="p">:</span><span class="n">Wdg_DataHub_ImgCal</span><span class="p">,</span>
             <span class="n">coorHub</span><span class="p">:</span><span class="n">List_MeaCoor_Hub</span><span class="p">,</span>
             <span class="n">wdg_coorGen</span><span class="p">:</span><span class="n">Wdg_Hilvl_CoorGenerator</span><span class="p">,</span>
             <span class="n">processor</span><span class="p">:</span><span class="n">mpp</span><span class="o">.</span><span class="n">Pool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialises the higher level controller, which needs access to most (if not all)</span>
<span class="sd">    other modules used in the app</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (qw.QWidget): The parent widget</span>
<span class="sd">        motion_controller (Frm_MotionController): The stage and video controller for motion controls</span>
<span class="sd">        stageHub (stage_measurement_hub): The stage measurement hub for coordinate retrievals</span>
<span class="sd">        raman_controller (Frm_RamanSpectrometerController): The spectrometer controllers</span>
<span class="sd">        ramanHub (RamanMeasurementHub): The Raman measurement hub (NOT the DataHub!) for spectra retrievals</span>
<span class="sd">        dataHub_map (Frm_DataHub_Mapping): The mapping data hub</span>
<span class="sd">        dataHub_img (Frm_DataHub_Image): The image data hub</span>
<span class="sd">        dataHub_imgcal (Frm_DataHub_ImgCal): The image calibration data hub</span>
<span class="sd">        coorHub (MappingCoordinatesHub): The mapping coordinates hub</span>
<span class="sd">        wdg_coorGen (Wdg_Hilvl_CoorGenerator): The coordinate generator GUI</span>
<span class="sd">        processor (mpp.Pool): The multiprocessing pool</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">processor</span> <span class="o">=</span> <span class="n">processor</span>

<span class="c1"># &gt;&gt;&gt; Measurement hubs setup &lt;&lt;&lt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_stageHub</span> <span class="o">=</span> <span class="n">stageHub</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_ramanHub</span> <span class="o">=</span> <span class="n">ramanHub</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span> <span class="o">=</span> <span class="n">dataHub_map</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_img</span> <span class="o">=</span> <span class="n">dataHub_img</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_imgcal</span> <span class="o">=</span> <span class="n">dataHub_imgcal</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_coorHub</span> <span class="o">=</span> <span class="n">coorHub</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_wdg_coorGen</span> <span class="o">=</span> <span class="n">wdg_coorGen</span>

<span class="c1"># &gt;&gt;&gt; Controller initialisation &lt;&lt;&lt;</span>
    <span class="c1"># To gain access to the other 2 controllers and data save manager</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span> <span class="o">=</span> <span class="n">motion_controller</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span> <span class="o">=</span> <span class="n">raman_controller</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save_manager_dot</span> <span class="o">=</span> <span class="n">MeaRaman_Handler</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_mappingHub_Handler</span> <span class="o">=</span> <span class="n">MeaRMap_Handler</span><span class="p">()</span>

<span class="c1"># &gt;&gt;&gt; Main widget/layout setup &lt;&lt;&lt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span> <span class="o">=</span> <span class="n">Hilvl_Raman_Design</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_main_layout</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="p">)</span>
    <span class="n">wdg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_widget</span>

<span class="c1"># &gt;&gt;&gt; Frame setup: top layout &lt;&lt;&lt;</span>
    <span class="c1"># Status bar</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QStatusBar</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Initialising controls&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_main_layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="p">)</span>

<span class="c1"># &gt;&gt;&gt; Frame setup: Notebook (heatmap and mapping controls) &lt;&lt;&lt;</span>
    <span class="c1"># Setup: Heatmap plotter</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">mdl_plot</span> <span class="o">=</span> <span class="n">Wdg_MappingMeasurement_Plotter</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">_dataHub_map</span><span class="o">.</span><span class="n">get_MappingHub</span><span class="p">())</span>
    <span class="n">wdg</span><span class="o">.</span><span class="n">lyt_heatmap_holder</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mdl_plot</span><span class="p">)</span>

    <span class="c1"># Setup: Mapping controls</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_frm_coorHub_treeview</span> <span class="o">=</span> <span class="n">Wdg_Treeview_MappingCoordinates</span><span class="p">(</span>
        <span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span><span class="n">mappingCoorHub</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_coorHub</span><span class="p">)</span>
    <span class="n">wdg</span><span class="o">.</span><span class="n">lyt_coorHub_holder</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_frm_coorHub_treeview</span><span class="p">)</span>

<span class="c1"># &gt;&gt;&gt; Mapping widgets and parameters setups &lt;&lt;&lt;</span>
    <span class="c1"># Parameters</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_flg_meaCancelled</span> <span class="o">=</span> <span class="kc">False</span> <span class="c1"># Flag to indicate if the measurement was cancelled</span>

    <span class="c1"># &gt;&gt; Mapping options widgets setup &lt;&lt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_discrete</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">btn_discrete</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_discrete</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">MappingMethods</span><span class="o">.</span><span class="n">DISCRETE</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_continuous</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">btn_continuous</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_continuous</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">MappingMethods</span><span class="o">.</span><span class="n">CONTINUOUS</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">btn_stop</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sig_stop_measurement</span><span class="o">.</span><span class="n">emit</span><span class="p">())</span>

<span class="c1"># &gt;&gt;&gt; Mapping scrambler options setup &lt;&lt;&lt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rb_snake</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_snake</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rb_raster</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_raster</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rb_xdir</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_xdir</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_rb_ydir</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">rb_ydir</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_chk_randomise</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">chk_randomise</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_chk_skipover</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">chk_skipover</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_spin_skipover</span> <span class="o">=</span> <span class="n">wdg</span><span class="o">.</span><span class="n">spin_skipover</span>

<span class="c1"># &gt;&gt;&gt; Overlay heatmap plotter setup &lt;&lt;&lt;</span>
    <span class="c1"># Heatmap plotter widgets setup</span>
    <span class="c1"># self._frm_heatmapOverlay = Frm_HeatmapOverlay(</span>
    <span class="c1">#     master=frm_mappingoverlay,</span>
    <span class="c1">#     processor=self.processor,</span>
    <span class="c1">#     mappingHub=self._dataHub_map.get_MappingHub(),</span>
    <span class="c1">#     imghub_getter=self._dataHub_img.get_ImageMeasurement_Hub,</span>
    <span class="c1">#     dataHub_imgcal=self._dataHub_imgcal,</span>
    <span class="c1">#     figsize_pxl=AppPlotEnum.IMGCAL_IMG_SIZE.value</span>
    <span class="c1"># )</span>

    <span class="c1"># # Pack the widgets</span>
    <span class="c1"># self._frm_heatmapOverlay.grid(row=0, column=0)</span>

<span class="c1"># &gt;&gt;&gt; Workers and connections setup &lt;&lt;&lt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_init_workers_connections</span><span class="p">()</span>

<span class="c1"># &gt;&gt;&gt; Controller widgets setup &lt;&lt;&lt;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Ready&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.abort_mapping_run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">abort_mapping_run</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Aborts the mapping run and resets the controller status</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>btn</code>
            </td>
            <td>
                  <code><span title="iris.utils.general.tk.Button">Button</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The button to be reset</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text to be reset</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>command</code>
            </td>
            <td>
                  <code><span title="iris.utils.general.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The command to be reset</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1018</span>
<span class="normal">1019</span>
<span class="normal">1020</span>
<span class="normal">1021</span>
<span class="normal">1022</span>
<span class="normal">1023</span>
<span class="normal">1024</span>
<span class="normal">1025</span>
<span class="normal">1026</span>
<span class="normal">1027</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">abort_mapping_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Aborts the mapping run and resets the controller status</span>

<span class="sd">    Args:</span>
<span class="sd">        btn (tk.Button): The button to be reset</span>
<span class="sd">        text (str): The text to be reset</span>
<span class="sd">        command (Callable): The command to be reset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">flg_isrunning_mapping</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.disable_widgets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">disable_widgets</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Disables the mapping widgets</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1000</span>
<span class="normal">1001</span>
<span class="normal">1002</span>
<span class="normal">1003</span>
<span class="normal">1004</span>
<span class="normal">1005</span>
<span class="normal">1006</span>
<span class="normal">1007</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">disable_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Disables the mapping widgets</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">widgets</span> <span class="o">=</span> <span class="n">get_all_widgets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">tab_mappingoptions</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QSpinBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">)):</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.enable_widgets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">enable_widgets</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Enables the mapping widgets</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1009</span>
<span class="normal">1010</span>
<span class="normal">1011</span>
<span class="normal">1012</span>
<span class="normal">1013</span>
<span class="normal">1014</span>
<span class="normal">1015</span>
<span class="normal">1016</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">enable_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Enables the mapping widgets</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">widgets</span> <span class="o">=</span> <span class="n">get_all_widgets</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_widget</span><span class="o">.</span><span class="n">tab_mappingoptions</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">widgets</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QSpinBox</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">,</span> <span class="n">qw</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">)):</span>
            <span class="n">widget</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_error_during_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">handle_error_during_mapping</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Handles errors during the mapping measurement</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1138</span>
<span class="normal">1139</span>
<span class="normal">1140</span>
<span class="normal">1141</span>
<span class="normal">1142</span>
<span class="normal">1143</span>
<span class="normal">1144</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">handle_error_during_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles errors during the mapping measurement</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span><span class="mi">5000</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;QStatusBar { background-color : red; color : white; }&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_mapping_completion" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">handle_mapping_completion</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Handles the completion of a mapping measurement</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1146</span>
<span class="normal">1147</span>
<span class="normal">1148</span>
<span class="normal">1149</span>
<span class="normal">1150</span>
<span class="normal">1151</span>
<span class="normal">1152</span>
<span class="normal">1153</span>
<span class="normal">1154</span>
<span class="normal">1155</span>
<span class="normal">1156</span>
<span class="normal">1157</span>
<span class="normal">1158</span>
<span class="normal">1159</span>
<span class="normal">1160</span>
<span class="normal">1161</span>
<span class="normal">1162</span>
<span class="normal">1163</span>
<span class="normal">1164</span>
<span class="normal">1165</span>
<span class="normal">1166</span>
<span class="normal">1167</span>
<span class="normal">1168</span>
<span class="normal">1169</span>
<span class="normal">1170</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">handle_mapping_completion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles the completion of a mapping measurement</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">reset_enable_widgets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Mapping measurement complete&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="c1"># Reset to default</span>

    <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_cancelled</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Mapping measurement cancelled&#39;</span><span class="p">,</span><span class="s1">&#39;The mapping measurement was cancelled by the user&#39;</span><span class="p">)</span>
        <span class="k">return</span>
    <span class="k">elif</span> <span class="n">msg</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_error</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Mapping measurement error&#39;</span><span class="p">,</span><span class="n">msg</span><span class="p">)</span>
        <span class="k">return</span>

    <span class="k">if</span> <span class="n">msg</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_finished</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">information</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s1">&#39;Mapping measurement complete&#39;</span><span class="p">,</span><span class="s1">&#39;The mapping measurement is complete and added to the data hub&#39;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">msg</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_worker_hilvlacq</span><span class="o">.</span><span class="n">msg_mea_finished</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_last_mappingmethod</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid mapping completion message&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.handle_message_update" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">handle_message_update</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Handles message updates from workers</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>msg</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The message to display</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">793</span>
<span class="normal">794</span>
<span class="normal">795</span>
<span class="normal">796</span>
<span class="normal">797</span>
<span class="normal">798</span>
<span class="normal">799</span>
<span class="normal">800</span>
<span class="normal">801</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nd">@Slot</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">handle_message_update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span><span class="nb">str</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handles message updates from workers</span>

<span class="sd">    Args:</span>
<span class="sd">        msg (str): The message to display</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.initialise" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">initialise</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialises the controller, loading the last mapping coordinates from the temporary folder.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">662</span>
<span class="normal">663</span>
<span class="normal">664</span>
<span class="normal">665</span>
<span class="normal">666</span>
<span class="normal">667</span>
<span class="normal">668</span>
<span class="normal">669</span>
<span class="normal">670</span>
<span class="normal">671</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">initialise</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialises the controller, loading the last mapping coordinates from the temporary folder.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Ensure motion controller workers are initialized before connecting</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="p">,</span> <span class="s1">&#39;_init_workers&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">_init_workers</span><span class="p">()</span>

    <span class="c1"># Re-initialize worker connections now that all workers are ready</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_reinit_worker_connections</span><span class="p">()</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.initiate_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">initiate_mapping</span><span class="p">(</span><span class="n">method</span><span class="p">,</span> <span class="n">mapping_coordinates</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Performs multiple mapping based on the information stored in the dictionary</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mapping method to be performed. Can be 'discrete' or 'continuous'.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mapping_coordinates</code>
            </td>
            <td>
                  <code><span title="MappingCoordinates">MappingCoordinates</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The mapping coordinates to be performed. If None,
the selected mapping coordinates from the treeview will be used. Defaults to None.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1111</span>
<span class="normal">1112</span>
<span class="normal">1113</span>
<span class="normal">1114</span>
<span class="normal">1115</span>
<span class="normal">1116</span>
<span class="normal">1117</span>
<span class="normal">1118</span>
<span class="normal">1119</span>
<span class="normal">1120</span>
<span class="normal">1121</span>
<span class="normal">1122</span>
<span class="normal">1123</span>
<span class="normal">1124</span>
<span class="normal">1125</span>
<span class="normal">1126</span>
<span class="normal">1127</span>
<span class="normal">1128</span>
<span class="normal">1129</span>
<span class="normal">1130</span>
<span class="normal">1131</span>
<span class="normal">1132</span>
<span class="normal">1133</span>
<span class="normal">1134</span>
<span class="normal">1135</span>
<span class="normal">1136</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">initiate_mapping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span><span class="n">MappingMethods</span><span class="p">,</span>
                     <span class="n">mapping_coordinates</span><span class="p">:</span><span class="n">MeaCoor_mm</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">,):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Performs multiple mapping based on the information stored in the dictionary</span>

<span class="sd">    Args:</span>
<span class="sd">        method (str): The mapping method to be performed. Can be &#39;discrete&#39; or &#39;continuous&#39;.</span>
<span class="sd">        mapping_coordinates (MappingCoordinates|None): The mapping coordinates to be performed. If None,</span>
<span class="sd">            the selected mapping coordinates from the treeview will be used. Defaults to None.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Prepare the list of measurements to be performed</span>
    <span class="k">if</span> <span class="n">mapping_coordinates</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_frm_coorHub_treeview</span><span class="o">.</span><span class="n">get_selected_mappingCoor</span><span class="p">(</span><span class="n">flg_message</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span> <span class="o">=</span> <span class="p">[</span><span class="n">mapping_coordinates</span><span class="p">,]</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_list_sel_mapCoor</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">raman_controller</span><span class="o">.</span><span class="n">disable_widgets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">motion_controller</span><span class="o">.</span><span class="n">disable_widgets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">disable_widgets</span><span class="p">()</span>

    <span class="c1"># Store the last mapping method used</span>
    <span class="k">assert</span> <span class="n">method</span> <span class="ow">in</span> <span class="n">MappingMethods</span><span class="p">,</span> <span class="s2">&quot;Invalid mapping method. Check the MappingMethods enum.&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_last_mappingmethod</span> <span class="o">=</span> <span class="n">method</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">_perform_mapping</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.reset_mapping_widgets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">reset_mapping_widgets</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Resets the mapping widgets after a mapping run</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>btn</code>
            </td>
            <td>
                  <code><span title="iris.utils.general.tk.Button">Button</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The button to be reset</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>text</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The text to be reset</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>command</code>
            </td>
            <td>
                  <code><span title="iris.utils.general.Callable">Callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The command to be reset</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1029</span>
<span class="normal">1030</span>
<span class="normal">1031</span>
<span class="normal">1032</span>
<span class="normal">1033</span>
<span class="normal">1034</span>
<span class="normal">1035</span>
<span class="normal">1036</span>
<span class="normal">1037</span>
<span class="normal">1038</span>
<span class="normal">1039</span>
<span class="normal">1040</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">reset_mapping_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Resets the mapping widgets after a mapping run</span>

<span class="sd">    Args:</span>
<span class="sd">        btn (tk.Button): The button to be reset</span>
<span class="sd">        text (str): The text to be reset</span>
<span class="sd">        command (Callable): The command to be reset</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">enable_widgets</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_btn_stop</span><span class="o">.</span><span class="n">setEnabled</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">statbar</span><span class="o">.</span><span class="n">showMessage</span><span class="p">(</span><span class="s1">&#39;Ready&#39;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.Wdg_HighLvlController_Raman.terminate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">terminate</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Terminates the controller, saving the mapping coordinates to the temporary folder.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">710</span>
<span class="normal">711</span>
<span class="normal">712</span>
<span class="normal">713</span>
<span class="normal">714</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">terminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Terminates the controller, saving the mapping coordinates to the temporary folder.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="iris.gui.hilvl_Raman.WorkerPipelineManager" class="doc doc-heading">
            <code>WorkerPipelineManager</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="PySide6.QtCore.QObject">QObject</span></code></p>



        <p>Manages the signal and slot connections between workers</p>








              <details class="mkdocstrings-source">
                <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
                <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">490</span>
<span class="normal">491</span>
<span class="normal">492</span>
<span class="normal">493</span>
<span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">WorkerPipelineManager</span><span class="p">(</span><span class="n">QObject</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Manages the signal and slot connections between workers</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">hilvlacq_worker</span><span class="p">:</span><span class="n">Hilvl_MeasurementAcq_Worker</span><span class="p">,</span>
        <span class="n">raman_worker</span><span class="p">:</span> <span class="n">RamanMeasurement_Worker</span><span class="p">,</span>
        <span class="n">motion_controller</span><span class="p">:</span> <span class="n">Wdg_MotionController</span><span class="p">,</span>
        <span class="n">motion_goto_worker</span><span class="p">:</span><span class="n">Motion_GoToCoor_Worker</span><span class="p">,</span>
        <span class="n">parent</span><span class="o">=</span><span class="kc">None</span>
        <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialises the signal-slot connections for the controller.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>

        <span class="c1"># Store references to prevent garbage collection</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hilvlacq_worker</span> <span class="o">=</span> <span class="n">hilvlacq_worker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_raman_worker</span> <span class="o">=</span> <span class="n">raman_worker</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_controller</span> <span class="o">=</span> <span class="n">motion_controller</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_motion_goto_worker</span> <span class="o">=</span> <span class="n">motion_goto_worker</span>

        <span class="c1"># Use Qt.QueuedConnection to ensure proper cross-thread signal delivery</span>
        <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_gotocor</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="n">motion_goto_worker</span><span class="o">.</span><span class="n">work</span><span class="p">,</span> 
            <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ConnectionType</span><span class="o">.</span><span class="n">QueuedConnection</span>
        <span class="p">)</span>
        <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_setvelrel</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="n">motion_controller</span><span class="o">.</span><span class="n">set_vel_relative</span><span class="p">,</span>
            <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ConnectionType</span><span class="o">.</span><span class="n">QueuedConnection</span>
        <span class="p">)</span>
        <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_append_queue_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">append_queue_observer_measurement</span><span class="p">)</span>
        <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_remove_queue_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">remove_queue_observer_measurement</span><span class="p">)</span>
        <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_acquire_discrete_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">acquire_single_measurement</span><span class="p">)</span>
        <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_acquire_continuous_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">acquire_continuous_burst_measurement_trigger</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
              </details>



<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="iris.gui.hilvl_Raman.WorkerPipelineManager.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">hilvlacq_worker</span><span class="p">,</span> <span class="n">raman_worker</span><span class="p">,</span> <span class="n">motion_controller</span><span class="p">,</span> <span class="n">motion_goto_worker</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Initialises the signal-slot connections for the controller.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">494</span>
<span class="normal">495</span>
<span class="normal">496</span>
<span class="normal">497</span>
<span class="normal">498</span>
<span class="normal">499</span>
<span class="normal">500</span>
<span class="normal">501</span>
<span class="normal">502</span>
<span class="normal">503</span>
<span class="normal">504</span>
<span class="normal">505</span>
<span class="normal">506</span>
<span class="normal">507</span>
<span class="normal">508</span>
<span class="normal">509</span>
<span class="normal">510</span>
<span class="normal">511</span>
<span class="normal">512</span>
<span class="normal">513</span>
<span class="normal">514</span>
<span class="normal">515</span>
<span class="normal">516</span>
<span class="normal">517</span>
<span class="normal">518</span>
<span class="normal">519</span>
<span class="normal">520</span>
<span class="normal">521</span>
<span class="normal">522</span>
<span class="normal">523</span>
<span class="normal">524</span>
<span class="normal">525</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">hilvlacq_worker</span><span class="p">:</span><span class="n">Hilvl_MeasurementAcq_Worker</span><span class="p">,</span>
    <span class="n">raman_worker</span><span class="p">:</span> <span class="n">RamanMeasurement_Worker</span><span class="p">,</span>
    <span class="n">motion_controller</span><span class="p">:</span> <span class="n">Wdg_MotionController</span><span class="p">,</span>
    <span class="n">motion_goto_worker</span><span class="p">:</span><span class="n">Motion_GoToCoor_Worker</span><span class="p">,</span>
    <span class="n">parent</span><span class="o">=</span><span class="kc">None</span>
    <span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Initialises the signal-slot connections for the controller.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>

    <span class="c1"># Store references to prevent garbage collection</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_hilvlacq_worker</span> <span class="o">=</span> <span class="n">hilvlacq_worker</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_raman_worker</span> <span class="o">=</span> <span class="n">raman_worker</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_controller</span> <span class="o">=</span> <span class="n">motion_controller</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_motion_goto_worker</span> <span class="o">=</span> <span class="n">motion_goto_worker</span>

    <span class="c1"># Use Qt.QueuedConnection to ensure proper cross-thread signal delivery</span>
    <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_gotocor</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">motion_goto_worker</span><span class="o">.</span><span class="n">work</span><span class="p">,</span> 
        <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ConnectionType</span><span class="o">.</span><span class="n">QueuedConnection</span>
    <span class="p">)</span>
    <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_setvelrel</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">motion_controller</span><span class="o">.</span><span class="n">set_vel_relative</span><span class="p">,</span>
        <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ConnectionType</span><span class="o">.</span><span class="n">QueuedConnection</span>
    <span class="p">)</span>
    <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_append_queue_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">append_queue_observer_measurement</span><span class="p">)</span>
    <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_remove_queue_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">remove_queue_observer_measurement</span><span class="p">)</span>
    <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_acquire_discrete_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">acquire_single_measurement</span><span class="p">)</span>
    <span class="n">hilvlacq_worker</span><span class="o">.</span><span class="n">_sig_acquire_continuous_mea</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">raman_worker</span><span class="o">.</span><span class="n">acquire_continuous_burst_measurement_trigger</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.check_and_create_config_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_and_create_config_file</span><span class="p">(</span><span class="n">config_file_path</span><span class="o">=</span><span class="s1">&#39;config.ini&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Generate a default config file if it does not exist</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>config_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the config file. Defaults to 'config.ini'</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span>
<span class="normal">301</span>
<span class="normal">302</span>
<span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">check_and_create_config_file</span><span class="p">(</span><span class="n">config_file_path</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s1">&#39;config.ini&#39;</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generate a default config file if it does not exist</span>

<span class="sd">    Args:</span>
<span class="sd">        config_file (str): Path to the config file. Defaults to &#39;config.ini&#39;</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Generate a default config file if it does not exist</span>
    <span class="n">updater</span> <span class="o">=</span> <span class="n">ConfigUpdater</span><span class="p">(</span><span class="n">allow_no_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">config_file_path</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_file_path</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">configfile</span><span class="p">:</span> <span class="n">updater</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">configfile</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.convert_ramanshift_to_wavelength" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_ramanshift_to_wavelength</span><span class="p">(</span><span class="n">raman_shift</span><span class="p">,</span> <span class="n">excitation_wavelength</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts Raman shift to wavelength</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>raman_shift</code>
            </td>
            <td>
                  <code><span title="float">float</span> | <span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Raman shift in cm^-1</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>excitation_wavelength</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Excitation laser wavelength in nm</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span> | <span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>float|np.ndarray: Wavelength in nm</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">convert_ramanshift_to_wavelength</span><span class="p">(</span><span class="n">raman_shift</span><span class="p">:</span><span class="nb">float</span><span class="o">|</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span><span class="n">excitation_wavelength</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="o">|</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts Raman shift to wavelength</span>

<span class="sd">    Args:</span>
<span class="sd">        raman_shift (float|np.ndarray): Raman shift in cm^-1</span>
<span class="sd">        excitation_wavelength (float): Excitation laser wavelength in nm</span>

<span class="sd">    Returns:</span>
<span class="sd">        float|np.ndarray: Wavelength in nm</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">wavelength</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">excitation_wavelength</span> <span class="o">-</span> <span class="n">raman_shift</span><span class="o">/</span><span class="mf">1e7</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">wavelength</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.convert_timestamp_us_int_to_str" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_timestamp_us_int_to_str</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts timestamp integer to string</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>timestamp</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp in us</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp as string in the format %y%m%d_%H%M%S_%f</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">convert_timestamp_us_int_to_str</span><span class="p">(</span><span class="n">timestamp</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts timestamp integer to string</span>

<span class="sd">    Args:</span>
<span class="sd">        timestamp (int): Timestamp in us</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Timestamp as string in the format %y%m%d_%H%M%S_%f</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timestamp_str</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="n">timestamp</span><span class="o">*</span><span class="mf">1e-6</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%y%m</span><span class="si">%d</span><span class="s2">_%H%M%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">timestamp_str</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.convert_timestamp_us_str_to_int" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_timestamp_us_str_to_int</span><span class="p">(</span><span class="n">timestamp</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts timestamp string to integer</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>timestamp</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp, has to be in the format %y%m%d_%H%M%S_%f</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp as integer in us</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">convert_timestamp_us_str_to_int</span><span class="p">(</span><span class="n">timestamp</span><span class="p">:</span><span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts timestamp string to integer</span>

<span class="sd">    Args:</span>
<span class="sd">        timestamp (str): Timestamp, has to be in the format %y%m%d_%H%M%S_%f</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Timestamp as integer in us</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">timestamp_int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">timestamp</span><span class="p">,</span> <span class="s2">&quot;%y%m</span><span class="si">%d</span><span class="s2">_%H%M%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mf">1e6</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">timestamp_int</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.convert_wavelength_to_ramanshift" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_wavelength_to_ramanshift</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="n">excitation_wavelength</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Converts wavelength to Raman shift</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>wavelength</code>
            </td>
            <td>
                  <code><span title="float">float</span> | <span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Wavelength in nm</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>excitation_wavelength</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Excitation laser wavelength in nm</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="float">float</span> | <span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>float|np.ndarray: Raman shift in cm^-1</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span>
<span class="normal">162</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">convert_wavelength_to_ramanshift</span><span class="p">(</span><span class="n">wavelength</span><span class="p">:</span><span class="nb">float</span><span class="o">|</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span><span class="n">excitation_wavelength</span><span class="p">:</span><span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="o">|</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts wavelength to Raman shift</span>

<span class="sd">    Args:</span>
<span class="sd">        wavelength (float|np.ndarray): Wavelength in nm</span>
<span class="sd">        excitation_wavelength (float): Excitation laser wavelength in nm</span>

<span class="sd">    Returns:</span>
<span class="sd">        float|np.ndarray: Raman shift in cm^-1</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">wavelength</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span> <span class="ow">and</span> <span class="n">wavelength</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">wavelength</span> <span class="o">=</span> <span class="mf">0.0001</span>
    <span class="k">else</span><span class="p">:</span> <span class="n">wavelength</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">wavelength</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">,</span> <span class="n">wavelength</span><span class="p">)</span>
    <span class="n">raman_shift</span> <span class="o">=</span> <span class="mf">1e7</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">excitation_wavelength</span> <span class="o">-</span> <span class="mi">1</span><span class="o">/</span><span class="n">wavelength</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">raman_shift</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.generate_test_app" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">generate_test_app</span><span class="p">(</span><span class="n">lyt</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Generates a test QApplication and QVBoxLayout for testing purposes</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="tuple">tuple</span>[<span title="PySide6.QtWidgets.QApplication">QApplication</span>, <span title="PySide6.QtWidgets.QWidget">QWidget</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>tuple[qw.QApplication, qw.QWidget]: The QApplication and QWidget instances</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_test_app</span><span class="p">(</span><span class="n">lyt</span><span class="p">:</span><span class="n">qw</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="o">|</span><span class="n">qw</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">qw</span><span class="o">.</span><span class="n">QApplication</span><span class="p">,</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a test QApplication and QVBoxLayout for testing purposes</span>

<span class="sd">    Returns:</span>
<span class="sd">        tuple[qw.QApplication, qw.QWidget]: The QApplication and QWidget instances</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QApplication</span><span class="p">([])</span>
    <span class="n">main_window</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">()</span>
    <span class="n">main_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">wdg</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
    <span class="n">main_window</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">wdg</span><span class="p">)</span>
    <span class="n">wdg</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">lyt</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">app</span><span class="p">,</span> <span class="n">wdg</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.get_all_widgets" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_widgets</span><span class="p">(</span><span class="n">parent_widget</span><span class="p">,</span> <span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>A function that returns all widgets in a frame and optionally, its subframes (all levels)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parent_widget</code>
            </td>
            <td>
                  <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Widget which children need to be listed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_all</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True it will get the widgets in the sub-widgets as well</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="PySide6.QtWidgets.QWidget">QWidget</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[qw.QWidget]: List of all widgets in the widget</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">255</span>
<span class="normal">256</span>
<span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_widgets</span><span class="p">(</span><span class="n">parent_widget</span><span class="p">:</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span><span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A function that returns all widgets in a frame and optionally, its subframes (all levels)</span>

<span class="sd">    Args:</span>
<span class="sd">        parent_widget (qw.QWidget): Widget which children need to be listed</span>
<span class="sd">        get_all (bool, optional): If True it will get the widgets in the sub-widgets as well</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[qw.QWidget]: List of all widgets in the widget</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">get_all</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">parent_widget</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">)</span>   <span class="c1"># The default findChildren() is already recursive</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># findChildren() with a search option that limits depth</span>
        <span class="c1"># For a single level, findChildren(type, options) is useful</span>
        <span class="c1"># We find widgets that are immediate children of the parent.</span>
        <span class="k">return</span> <span class="n">parent_widget</span><span class="o">.</span><span class="n">findChildren</span><span class="p">(</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span> <span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">FindChildOption</span><span class="o">.</span><span class="n">FindDirectChildrenOnly</span><span class="p">)</span> <span class="c1"># type: ignore</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.get_all_widgets_from_layout" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_all_widgets_from_layout</span><span class="p">(</span><span class="n">parent_layout</span><span class="p">,</span> <span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>A function that returns all widgets in a layout and optionally, its sub-layouts (all levels)</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parent_layout</code>
            </td>
            <td>
                  <code><span title="PySide6.QtWidgets.QLayout">QLayout</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Layout which children need to be listed</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_all</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True it will get the widgets in the sub-layouts as well</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="list">list</span>[<span title="PySide6.QtWidgets.QWidget">QWidget</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[qw.QWidget]: List of all widgets in the layout</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_all_widgets_from_layout</span><span class="p">(</span><span class="n">parent_layout</span><span class="p">:</span><span class="n">qw</span><span class="o">.</span><span class="n">QLayout</span><span class="p">,</span><span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A function that returns all widgets in a layout and optionally, its sub-layouts (all levels)</span>

<span class="sd">    Args:</span>
<span class="sd">        parent_layout (qw.QLayout): Layout which children need to be listed</span>
<span class="sd">        get_all (bool, optional): If True it will get the widgets in the sub-layouts as well</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[qw.QWidget]: List of all widgets in the layout</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">list_widget</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">parent_layout</span><span class="o">.</span><span class="n">count</span><span class="p">()):</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">parent_layout</span><span class="o">.</span><span class="n">itemAt</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">item</span><span class="o">.</span><span class="n">widget</span><span class="p">():</span>
            <span class="n">list_widget</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">widget</span><span class="p">())</span>
            <span class="k">if</span> <span class="n">get_all</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">widget</span><span class="p">(),</span> <span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">):</span>
                <span class="n">child_widgets</span> <span class="o">=</span> <span class="n">get_all_widgets</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">widget</span><span class="p">(),</span> <span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="n">list_widget</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">child_widgets</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">item</span><span class="o">.</span><span class="n">layout</span><span class="p">()</span> <span class="ow">and</span> <span class="n">get_all</span><span class="p">:</span>
            <span class="n">child_widgets</span> <span class="o">=</span> <span class="n">get_all_widgets_from_layout</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">layout</span><span class="p">(),</span> <span class="n">get_all</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">list_widget</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">child_widgets</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">list_widget</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.get_timestamp_day" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_timestamp_day</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Gets the current timestamp in days</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp without time: yymmdd</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_timestamp_day</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the current timestamp in days</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Timestamp without time: yymmdd</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%y%m</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.get_timestamp_sec" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_timestamp_sec</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Gets the current timestamp in seconds</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp with time: yymmdd_hhmmss</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_timestamp_sec</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the current timestamp in seconds</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Timestamp with time: yymmdd_hhmmss</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%y%m</span><span class="si">%d</span><span class="s2">_%H%M%S&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.get_timestamp_us_int" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_timestamp_us_int</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Gets the current timestamp in us as integer</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp in us</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">204</span>
<span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_timestamp_us_int</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the current timestamp in us as integer</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Timestamp in us</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">timestamp</span><span class="p">()</span><span class="o">*</span><span class="mf">1e6</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.get_timestamp_us_str" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_timestamp_us_str</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Gets the current timestamp in us as string</p>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>str</code></td>            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Timestamp with time and milliseconds: yymmdd_hhmmss_us(6 digits)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">get_timestamp_us_str</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Gets the current timestamp in us as string</span>

<span class="sd">    Returns:</span>
<span class="sd">        str: Timestamp with time and milliseconds: yymmdd_hhmmss_us(6 digits)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">dt</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%y%m</span><span class="si">%d</span><span class="s2">_%H%M%S_</span><span class="si">%f</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.messagebox_request_input" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">messagebox_request_input</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">validator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">invalid_msg</span><span class="o">=</span><span class="s1">&#39;The entered value is invalid. Please try again.&#39;</span><span class="p">,</span> <span class="n">loop_until_valid</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>A function that creates a QInputDialog to request input with optional validation.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>parent</code>
            </td>
            <td>
                  <code><span title="PySide6.QtWidgets.QWidget">QWidget</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The parent widget for the dialog (recommended).</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>title</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Title of the dialog box.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>message</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message/label to be displayed for the input field.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>default</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Default value of the input.</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>validator</code>
            </td>
            <td>
                  <code><span title="typing.Callable">Callable</span>[[<span title="str">str</span>], <span title="bool">bool</span>] | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>A function that takes the 
input string and returns True if valid, False otherwise.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invalid_msg</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Message to show if validation fails.</p>
              </div>
            </td>
            <td>
                  <code>&#39;The entered value is invalid. Please try again.&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>loop_until_valid</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If True, keeps asking until the input is valid 
or the user presses Cancel.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="str">str</span> | None</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str | None: User input string if OK was pressed and validation passed, 
        otherwise None (if Cancel was pressed).</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span>
<span class="normal">138</span>
<span class="normal">139</span>
<span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">messagebox_request_input</span><span class="p">(</span>
        <span class="n">parent</span><span class="p">:</span> <span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">,</span> 
        <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
        <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
        <span class="n">default</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="n">validator</span><span class="p">:</span> <span class="n">Callable</span><span class="p">[[</span><span class="nb">str</span><span class="p">],</span> <span class="nb">bool</span><span class="p">]</span><span class="o">|</span><span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">invalid_msg</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;The entered value is invalid. Please try again.&quot;</span><span class="p">,</span>
        <span class="n">loop_until_valid</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A function that creates a QInputDialog to request input with optional validation.</span>

<span class="sd">    Args:</span>
<span class="sd">        parent (qw.QWidget): The parent widget for the dialog (recommended).</span>
<span class="sd">        title (str): Title of the dialog box.</span>
<span class="sd">        message (str): Message/label to be displayed for the input field.</span>
<span class="sd">        default (str, optional): Default value of the input.</span>
<span class="sd">        validator (Callable[[str], bool]|None, optional): A function that takes the </span>
<span class="sd">            input string and returns True if valid, False otherwise.</span>
<span class="sd">        invalid_msg (str): Message to show if validation fails.</span>
<span class="sd">        loop_until_valid (bool): If True, keeps asking until the input is valid </span>
<span class="sd">            or the user presses Cancel.</span>

<span class="sd">    Returns:</span>
<span class="sd">        str | None: User input string if OK was pressed and validation passed, </span>
<span class="sd">                    otherwise None (if Cancel was pressed).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">current_default</span> <span class="o">=</span> <span class="n">default</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="c1"># 1. Show the input dialog</span>
        <span class="n">user_input</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QInputDialog</span><span class="o">.</span><span class="n">getText</span><span class="p">(</span>
            <span class="n">parent</span><span class="p">,</span>
            <span class="n">title</span><span class="p">,</span>
            <span class="n">message</span><span class="p">,</span>
            <span class="n">qw</span><span class="o">.</span><span class="n">QLineEdit</span><span class="o">.</span><span class="n">Normal</span><span class="p">,</span> <span class="c1"># pyright: ignore[reportAttributeAccessIssue]</span>
            <span class="n">current_default</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">ok</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>  <span class="c1"># User pressed Cancel</span>

        <span class="n">is_valid</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">validator</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span> <span class="n">is_valid</span> <span class="o">=</span> <span class="n">validator</span><span class="p">(</span><span class="n">user_input</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_valid</span><span class="p">:</span> <span class="k">return</span> <span class="n">user_input</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">loop_until_valid</span><span class="p">:</span> <span class="k">return</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">qw</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="s2">&quot;Invalid Input&quot;</span><span class="p">,</span> <span class="n">invalid_msg</span><span class="p">)</span>
            <span class="n">current_default</span> <span class="o">=</span> <span class="n">user_input</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.read_update_config_file_section" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_update_config_file_section</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">,</span> <span class="n">dict_controllers_comments</span><span class="p">,</span> <span class="n">section</span><span class="p">,</span> <span class="n">config_file</span><span class="o">=</span><span class="s1">&#39;config.ini&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Read the config file and automatically add an entry if it does not exist
based on the given default values (dict form) and returns the read values
after the update. Additionally, it will also automatically append comments
given by the comments dictionary at the end of each respective key's value
in the config file. If the values are already present, it will just read the values.
If the config file is not present, it will automatically try to create one.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dict_controllers_default</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of the default values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>dict_controllers_comments</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of the comments for each key in the default values</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>section</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Section name in the config file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config_file</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to the config file. Defaults to 'config.ini'.</p>
              </div>
            </td>
            <td>
                  <code>&#39;config.ini&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="NotImplementedError">NotImplementedError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the conversion of the default value type is not implemented</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of the read values (after the update) in the correct format
given by the default values dictionary</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span>
<span class="normal">358</span>
<span class="normal">359</span>
<span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span>
<span class="normal">366</span>
<span class="normal">367</span>
<span class="normal">368</span>
<span class="normal">369</span>
<span class="normal">370</span>
<span class="normal">371</span>
<span class="normal">372</span>
<span class="normal">373</span>
<span class="normal">374</span>
<span class="normal">375</span>
<span class="normal">376</span>
<span class="normal">377</span>
<span class="normal">378</span>
<span class="normal">379</span>
<span class="normal">380</span>
<span class="normal">381</span>
<span class="normal">382</span>
<span class="normal">383</span>
<span class="normal">384</span>
<span class="normal">385</span>
<span class="normal">386</span>
<span class="normal">387</span>
<span class="normal">388</span>
<span class="normal">389</span>
<span class="normal">390</span>
<span class="normal">391</span>
<span class="normal">392</span>
<span class="normal">393</span>
<span class="normal">394</span>
<span class="normal">395</span>
<span class="normal">396</span>
<span class="normal">397</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">read_update_config_file_section</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span> <span class="n">dict_controllers_comments</span><span class="p">:</span><span class="nb">dict</span><span class="p">,</span>
    <span class="n">section</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">config_file</span><span class="p">:</span><span class="nb">str</span><span class="o">=</span><span class="s1">&#39;config.ini&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read the config file and automatically add an entry if it does not exist</span>
<span class="sd">    based on the given default values (dict form) and returns the read values</span>
<span class="sd">    after the update. Additionally, it will also automatically append comments</span>
<span class="sd">    given by the comments dictionary at the end of each respective key&#39;s value</span>
<span class="sd">    in the config file. If the values are already present, it will just read the values.</span>
<span class="sd">    If the config file is not present, it will automatically try to create one.</span>

<span class="sd">    Args:</span>
<span class="sd">        dict_controllers_default (dict): Dictionary of the default values</span>
<span class="sd">        dict_controllers_comments (dict): Dictionary of the comments for each key in the default values</span>
<span class="sd">        section (str): Section name in the config file</span>
<span class="sd">        config_file (str, optional): Path to the config file. Defaults to &#39;config.ini&#39;.</span>

<span class="sd">    Raises:</span>
<span class="sd">        NotImplementedError: If the conversion of the default value type is not implemented</span>

<span class="sd">    Returns:</span>
<span class="sd">        dict: Dictionary of the read values (after the update) in the correct format</span>
<span class="sd">            given by the default values dictionary</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">check_and_create_config_file</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="c1"># Read the config file and automatically add an entry if it does not exist </span>
    <span class="c1"># (along with its comments)</span>
    <span class="n">updater</span> <span class="o">=</span> <span class="n">ConfigUpdater</span><span class="p">(</span><span class="n">allow_no_value</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">updater</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>

    <span class="n">splitter</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span>
    <span class="n">commenter</span> <span class="o">=</span> <span class="s1">&#39;; &#39;</span>
    <span class="n">list_splitters</span> <span class="o">=</span> <span class="p">[</span><span class="n">splitter</span><span class="p">,</span> <span class="n">commenter</span><span class="p">]</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">updater</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
        <span class="n">updater</span><span class="o">.</span><span class="n">add_section</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">updater</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">dict_controllers_default</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">updater</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">!=</span> <span class="nb">str</span><span class="p">:</span>
                <span class="n">updater</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
                    <span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span>
                    <span class="n">option</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">+</span> <span class="n">splitter</span> <span class="o">+</span> <span class="n">commenter</span> <span class="o">+</span> <span class="n">dict_controllers_comments</span><span class="p">[</span><span class="n">key</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>   <span class="c1"># Add quotes to the string values</span>
                <span class="n">updater</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
                    <span class="n">section</span><span class="o">=</span><span class="n">section</span><span class="p">,</span>
                    <span class="n">option</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                    <span class="n">value</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">[</span><span class="n">key</span><span class="p">])</span> <span class="o">+</span> <span class="s1">&#39;&quot;&#39;</span> <span class="o">+</span> <span class="n">splitter</span> <span class="o">+</span> <span class="n">commenter</span> <span class="o">+</span> <span class="n">dict_controllers_comments</span><span class="p">[</span><span class="n">key</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_file</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span> <span class="n">updater</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>

    <span class="n">dict_controllers_read</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">updater</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">config_file</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">key</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="n">updater</span><span class="o">.</span><span class="n">items</span><span class="p">(</span><span class="n">section</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dict_controllers_default</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span> <span class="k">continue</span>
        <span class="n">def_val_type</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>

        <span class="c1"># Process different types of values separately</span>
        <span class="c1"># note that the splits are to remove the comments</span>
        <span class="k">if</span> <span class="n">def_val_type</span> <span class="o">==</span> <span class="nb">bool</span><span class="p">:</span>
            <span class="n">read_line</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>
            <span class="k">for</span> <span class="n">splitter</span> <span class="ow">in</span> <span class="n">list_splitters</span><span class="p">:</span>
                <span class="n">read_line</span> <span class="o">=</span> <span class="n">read_line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">splitter</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">read_line</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">val</span> <span class="o">!=</span> <span class="s1">&#39;true&#39;</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">!=</span> <span class="s1">&#39;false&#39;</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">val</span><span class="si">}</span><span class="s2"> is not a boolean value.&quot;</span><span class="p">)</span>
            <span class="n">dict_controllers_read</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">read_line</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span>
        <span class="k">elif</span> <span class="n">def_val_type</span> <span class="ow">in</span> <span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
            <span class="n">read_line</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>
            <span class="k">for</span> <span class="n">splitter</span> <span class="ow">in</span> <span class="n">list_splitters</span><span class="p">:</span>
                <span class="n">read_line</span> <span class="o">=</span> <span class="n">read_line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">splitter</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">conv_val</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="n">dict_controllers_default</span><span class="p">[</span><span class="n">key</span><span class="p">])(</span><span class="n">read_line</span><span class="p">)</span>
            <span class="n">dict_controllers_read</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">conv_val</span>
        <span class="k">elif</span> <span class="n">def_val_type</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">if</span> <span class="s1">&#39;&quot;&#39;</span> <span class="ow">in</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                <span class="n">conv_val</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;&quot;&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">conv_val</span><span class="p">:</span><span class="nb">str</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">value</span>
                <span class="k">for</span> <span class="n">splitter</span> <span class="ow">in</span> <span class="n">list_splitters</span><span class="p">:</span>
                    <span class="n">conv_val</span> <span class="o">=</span> <span class="n">conv_val</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">splitter</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
            <span class="n">dict_controllers_read</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">conv_val</span>
        <span class="k">else</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: </span><span class="si">{</span><span class="n">def_val_type</span><span class="si">}</span><span class="s2"> conversion is not implemented.&quot;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dict_controllers_read</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.run_with_timeout" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run_with_timeout</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{},</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Runs a function with a timeout.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>func</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The function to execute.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>args</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Tuple of positional arguments for the function.</p>
              </div>
            </td>
            <td>
                  <code>()</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>kwargs</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary of keyword arguments for the function.</p>
              </div>
            </td>
            <td>
                  <code>{}</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>timeout</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The timeout in seconds.</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The result of the function if it completes within the timeout.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="iris.utils.general.TimeoutError">TimeoutError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If the function does not complete within the timeout.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span>
<span class="normal">59</span>
<span class="normal">60</span>
<span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">run_with_timeout</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(),</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{},</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Runs a function with a timeout.</span>

<span class="sd">    Args:</span>
<span class="sd">        func: The function to execute.</span>
<span class="sd">        args: Tuple of positional arguments for the function.</span>
<span class="sd">        kwargs: Dictionary of keyword arguments for the function.</span>
<span class="sd">        timeout: The timeout in seconds.</span>

<span class="sd">    Returns:</span>
<span class="sd">        The result of the function if it completes within the timeout.</span>

<span class="sd">    Raises:</span>
<span class="sd">        TimeoutError: If the function does not complete within the timeout.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">exception</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">finished</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Event</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">target</span><span class="p">():</span>
        <span class="k">nonlocal</span> <span class="n">result</span><span class="p">,</span> <span class="n">exception</span>
        <span class="k">try</span><span class="p">:</span> <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="n">exception</span> <span class="o">=</span> <span class="n">e</span>
        <span class="k">finally</span><span class="p">:</span> <span class="n">finished</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>

    <span class="n">timer</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">finished</span><span class="o">.</span><span class="n">set</span><span class="p">())</span>
    <span class="n">thread</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>

    <span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="n">finished</span><span class="o">.</span><span class="n">wait</span><span class="p">()</span>
    <span class="n">timer</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
        <span class="k">raise</span> <span class="ne">TimeoutError</span><span class="p">(</span><span class="s2">&quot;Function execution timed out&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">exception</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">exception</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.test_hilvl_Raman_app" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_hilvl_Raman_app</span><span class="p">(</span><span class="n">processor</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>Generates a dummy high-level Raman application for testing purposes.</p>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/gui/hilvl_Raman.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1248</span>
<span class="normal">1249</span>
<span class="normal">1250</span>
<span class="normal">1251</span>
<span class="normal">1252</span>
<span class="normal">1253</span>
<span class="normal">1254</span>
<span class="normal">1255</span>
<span class="normal">1256</span>
<span class="normal">1257</span>
<span class="normal">1258</span>
<span class="normal">1259</span>
<span class="normal">1260</span>
<span class="normal">1261</span>
<span class="normal">1262</span>
<span class="normal">1263</span>
<span class="normal">1264</span>
<span class="normal">1265</span>
<span class="normal">1266</span>
<span class="normal">1267</span>
<span class="normal">1268</span>
<span class="normal">1269</span>
<span class="normal">1270</span>
<span class="normal">1271</span>
<span class="normal">1272</span>
<span class="normal">1273</span>
<span class="normal">1274</span>
<span class="normal">1275</span>
<span class="normal">1276</span>
<span class="normal">1277</span>
<span class="normal">1278</span>
<span class="normal">1279</span>
<span class="normal">1280</span>
<span class="normal">1281</span>
<span class="normal">1282</span>
<span class="normal">1283</span>
<span class="normal">1284</span>
<span class="normal">1285</span>
<span class="normal">1286</span>
<span class="normal">1287</span>
<span class="normal">1288</span>
<span class="normal">1289</span>
<span class="normal">1290</span>
<span class="normal">1291</span>
<span class="normal">1292</span>
<span class="normal">1293</span>
<span class="normal">1294</span>
<span class="normal">1295</span>
<span class="normal">1296</span>
<span class="normal">1297</span>
<span class="normal">1298</span>
<span class="normal">1299</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">test_hilvl_Raman_app</span><span class="p">(</span><span class="n">processor</span><span class="p">:</span><span class="n">mpp</span><span class="o">.</span><span class="n">Pool</span><span class="o">|</span><span class="kc">None</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Generates a dummy high-level Raman application for testing purposes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">iris.gui.motion_video</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_dummy_motion_controller</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">iris.gui.raman</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_dummy_spectrometer_controller</span>

    <span class="kn">from</span><span class="w"> </span><span class="nn">iris.gui.hilvl_coorGen</span><span class="w"> </span><span class="kn">import</span> <span class="n">generate_dummy_wdg_hilvlCoorGenerator</span>

    <span class="k">if</span> <span class="n">processor</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">processor</span> <span class="o">=</span> <span class="n">mpp</span><span class="o">.</span><span class="n">Pool</span><span class="p">()</span>

    <span class="n">app</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QApplication</span><span class="p">([])</span>
    <span class="n">main_window</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">()</span>
    <span class="n">wdg_main</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QWidget</span><span class="p">()</span>
    <span class="n">main_window</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">)</span>
    <span class="n">layout</span> <span class="o">=</span> <span class="n">qw</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">()</span>
    <span class="n">wdg_main</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>

    <span class="n">mappingHub</span> <span class="o">=</span> <span class="n">MeaRMap_Hub</span><span class="p">()</span>
    <span class="n">dataHub</span> <span class="o">=</span> <span class="n">Wdg_DataHub_Mapping</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">,</span><span class="n">mappingHub</span><span class="p">)</span>

    <span class="n">wdg_motion_video</span> <span class="o">=</span> <span class="n">generate_dummy_motion_controller</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">)</span>
    <span class="n">datastreamer_motion</span> <span class="o">=</span> <span class="n">wdg_motion_video</span><span class="o">.</span><span class="n">_stageHub</span>
    <span class="n">wdg_raman</span> <span class="o">=</span> <span class="n">generate_dummy_spectrometer_controller</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">,</span><span class="n">processor</span><span class="p">,</span><span class="n">dataHub</span><span class="p">)</span>
    <span class="n">wdg_hilvlcoorgen</span> <span class="o">=</span> <span class="n">generate_dummy_wdg_hilvlCoorGenerator</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">,</span><span class="n">datahub_map</span><span class="o">=</span><span class="n">dataHub</span><span class="p">)</span>

    <span class="n">hilvl_raman_app</span> <span class="o">=</span> <span class="n">Wdg_HighLvlController_Raman</span><span class="p">(</span>
        <span class="n">parent</span><span class="o">=</span><span class="n">main_window</span><span class="p">,</span>
        <span class="n">motion_controller</span><span class="o">=</span><span class="n">wdg_motion_video</span><span class="p">,</span>
        <span class="n">stageHub</span><span class="o">=</span><span class="n">datastreamer_motion</span><span class="p">,</span>
        <span class="n">raman_controller</span><span class="o">=</span><span class="n">wdg_raman</span><span class="p">,</span>
        <span class="n">ramanHub</span><span class="o">=</span><span class="n">wdg_raman</span><span class="o">.</span><span class="n">_ramanHub</span><span class="p">,</span>
        <span class="n">dataHub_map</span><span class="o">=</span><span class="n">dataHub</span><span class="p">,</span>
        <span class="n">dataHub_img</span><span class="o">=</span><span class="n">Wdg_DataHub_Image</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">),</span>
        <span class="n">dataHub_imgcal</span><span class="o">=</span><span class="n">Wdg_DataHub_ImgCal</span><span class="p">(</span><span class="n">wdg_main</span><span class="p">),</span>
        <span class="n">coorHub</span><span class="o">=</span><span class="n">wdg_hilvlcoorgen</span><span class="o">.</span><span class="n">_coorHub</span><span class="p">,</span>
        <span class="n">wdg_coorGen</span><span class="o">=</span><span class="n">wdg_hilvlcoorgen</span><span class="p">,</span>
        <span class="n">processor</span><span class="o">=</span><span class="n">mpp</span><span class="o">.</span><span class="n">Pool</span><span class="p">())</span>

    <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">wdg_motion_video</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">wdg_raman</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">hilvl_raman_app</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">wdg_hilvlcoorgen</span><span class="p">)</span>
    <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">dataHub</span><span class="p">)</span>


    <span class="n">main_window</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">())</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="iris.gui.hilvl_Raman.validator_float_greaterThanZero" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">validator_float_greaterThanZero</span><span class="p">(</span><span class="n">input_str</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>A validator function that checks if the input string can be converted to a non-negative float</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input_str</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Input string to validate</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>bool</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True if valid, False otherwise</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


            <details class="mkdocstrings-source">
              <summary>Source code in <code>iris/utils/general.py</code></summary>
              <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span>
<span class="normal">88</span>
<span class="normal">89</span>
<span class="normal">90</span>
<span class="normal">91</span>
<span class="normal">92</span>
<span class="normal">93</span>
<span class="normal">94</span>
<span class="normal">95</span>
<span class="normal">96</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">validator_float_greaterThanZero</span><span class="p">(</span><span class="n">input_str</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A validator function that checks if the input string can be converted to a non-negative float</span>

<span class="sd">    Args:</span>
<span class="sd">        input_str (str): Input string to validate</span>

<span class="sd">    Returns:</span>
<span class="sd">        bool: True if valid, False otherwise</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">input_str</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">val</span> <span class="o">&gt;=</span> <span class="mf">0.0</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</code></pre></div></td></tr></table></div>
            </details>
    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>